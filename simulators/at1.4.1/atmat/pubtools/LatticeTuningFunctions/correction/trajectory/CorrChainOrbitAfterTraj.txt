{Reference to non-existent field 'neigeachcor'.

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('CorrectLattice', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectLattice.m', 63)" style="font-weight:bold">CorrectLattice</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectLattice.m',63,0)">line 63</a>)
    neigeachcor=corparam.neigeachcor;

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('testorbitaftertrajectory', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/testorbitaftertrajectory.m', 55)" style="font-weight:bold">testorbitaftertrajectory</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/testorbitaftertrajectory.m',55,0)">line 55</a>)
    200,... % n eig orbit H
} 
opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectLattice.m',63,0)
corr order  : 0, 1,
corr eig    : 200, 200, 200, 250, 350, 100, 350,
>>>>>  Correction sequence started  <<<<<
     # BPM  : 320
     # V cor: 288
     # H cor: 288
     # S cor: 288
     # Q cor: 514
>>>>>  --------------------------  <<<<<
 --- - - - - - - - - - - - - - - - - - - ---
 ---                                     ---
 --- FAST MODE: MODEL RM ARE BEING USED! ---
 ---                                     ---
 --- - - - - - - - - - - - - - - - - - - ---
>>>>>      Correction STRATEGY :       <<<<<
.
          open trajectory (steerers)
          orbit (steerers) 
.
>>>>>  --------------------------  <<<<<
Correction Step: 1/2
Open Trajectory Correction started. 5mm escursion accepted
correcting trajectory with model rm
Search closed orbit
Trajectory correction: nbpms= 28 ncor: 24, 24,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1029.033 -> 859.236 um
Y: 1492.613 -> 521.416 um
Search closed orbit
Trajectory correction: nbpms= 40 ncor: 36, 36,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1568.752 -> 758.035 um
Y: 1333.746 -> 374.255 um
Search closed orbit
Trajectory correction: nbpms= 68 ncor: 60, 60,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 875.077 -> 536.908 um
Y: 1290.723 -> 517.202 um
Search closed orbit
Trajectory correction: nbpms= 100 ncor: 90, 90,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 847.301 -> 393.879 um
Y: 1134.536 -> 378.032 um
Search closed orbit
Trajectory correction: nbpms= 140 ncor: 126, 126,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 823.234 -> 512.664 um
Y: 1360.121 -> 422.884 um
Search closed orbit
Trajectory correction: nbpms= 193 ncor: 174, 174,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 2706.845 -> 796.670 um
Y: 1225.159 -> 1156.348 um
Search closed orbit
Trajectory correction: nbpms= 208 ncor: 186, 186,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 900.297 -> 592.130 um
Y: 1421.641 -> 635.908 um
Search closed orbit
Trajectory correction: nbpms= 245 ncor: 221, 221,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1713.725 -> 770.908 um
Y: 1048.543 -> 569.474 um
Search closed orbit
Trajectory correction: nbpms= 304 ncor: 274, 274,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1692.139 -> 1476.102 um
Y: 1107.602 -> 646.715 um
Search closed orbit
Trajectory correction: nbpms= 317 ncor: 284, 284,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1607.944 -> 781.843 um
Y: 896.314 -> 369.653 um
Search closed orbit
Trajectory correction: nbpms= 320 ncor: 287, 287,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 814.444 -> 373.269 um
Y: 407.318 -> 191.535 um
Search closed orbit
Found closed orbit
 --- model lattice data --- 
 --- errors lattice data --- 
 --- corrected lattice data --- 
--------------------------------------------------
------ total std corrector values applyed --------
------                                    --------
       HK (288) [1/m]: 0.00e+00 -> 1.57e-03
       VK (288) [1/m]: 0.00e+00 -> 1.09e-03
       SK (288) [1/m2]: 0.00e+00 -> 0.00e+00
       QK (514) [1/m2]: 0.00e+00 -> 0.00e+00
------                                    --------
------    residual orbit and dispersion   --------
------                                    --------
       OH (3987) [m]: NaN -> 3.32e-04
       OV (3987) [m]: NaN -> 6.64e-04
       DH (3987) [m]: NaN -> 2.32e-02
       DV (3987) [m]:NaN -> 1.93e-02
       BBH (3987) %: NaN -> 15.4
       BBV (3987) %: NaN -> 17.8
       PhH (3987) : NaN -> 2.09e-01
       PhV (3987) : NaN -> 1.27e-01
------                                    --------
------        tune and emittance          --------
------                                    --------
       Qx [76.210]: NaN -> 76.106
       Qy [27.340]: NaN -> 27.285
       Cx [6.000]: NaN -> 4.717
       Cy [4.000]: NaN -> 3.790
       EX [132.111 pm]: NaN -> 395.459
       EY [0.000pm]: NaN -> 182.986
------                                    --------
--------------------------------------------------
Correction Step: 2/2
Steerers to fix orbit H  using 200 eig
Steerers to fix orbit V  using 200 eig
 --- reference orbit = 0
Orbit correction iter 1,n-eig: 20, 20,
Orbit correction iter 2,n-eig: 40, 40,
Orbit correction iter 3,n-eig: 60, 60,
Orbit correction iter 4,n-eig: 80, 80,
Orbit correction iter 5,n-eig: 100, 100,
Orbit correction iter 6,n-eig: 120, 120,
Orbit correction iter 7,n-eig: 140, 140,
Orbit correction iter 8,n-eig: 160, 160,
Orbit correction iter 9,n-eig: 180, 180,
Orbit correction iter 10,n-eig: 200, 200,
      before    -->    after
oX: 378.178 -> 263.602um
oY: 542.470 -> 177.206um
    min    mean    max
hs:-0.73   0.00   0.71 mrad
vs:-0.51   0.00   0.77 mrad
dpp: 0
 --- model lattice data --- 
 --- errors lattice data --- 
 --- corrected lattice data --- 
--------------------------------------------------
------ total std corrector values applyed --------
------                                    --------
       HK (288) [1/m]: 1.57e-03 -> 1.57e-03
       VK (288) [1/m]: 1.09e-03 -> 1.09e-03
       SK (288) [1/m2]: 0.00e+00 -> 0.00e+00
       QK (514) [1/m2]: 0.00e+00 -> 0.00e+00
------                                    --------
------    residual orbit and dispersion   --------
------                                    --------
       OH (3987) [m]: 3.32e-04 -> 2.33e-04
       OV (3987) [m]: 6.64e-04 -> 2.04e-04
       DH (3987) [m]: 2.32e-02 -> 2.39e-02
       DV (3987) [m]:1.93e-02 -> 1.65e-02
       BBH (3987) %: 15.4 -> 13.6
       BBV (3987) %: 17.8 -> 17.3
       PhH (3987) : 2.09e-01 -> 2.04e-01
       PhV (3987) : 1.27e-01 -> 1.26e-01
------                                    --------
------        tune and emittance          --------
------                                    --------
       Qx [76.210]: 76.106 -> 76.109
       Qy [27.340]: 27.285 -> 27.281
       Cx [6.000]: 4.717 -> 6.023
       Cy [4.000]: 3.790 -> 4.766
       EX [132.111 pm]: 395.459 -> 391.624
       EY [0.000pm]: 182.986 -> 104.026
------                                    --------
--------------------------------------------------
Elapsed time is 54.557551 seconds.
corr order  : 0, 1,
corr eig    : 200, 200, 200, 250, 350, 100, 350,
>>>>>  Correction sequence started  <<<<<
     # BPM  : 320
     # V cor: 288
     # H cor: 288
     # S cor: 288
     # Q cor: 514
>>>>>  --------------------------  <<<<<
 --- - - - - - - - - - - - - - - - - - - ---
 ---                                     ---
 --- FAST MODE: MODEL RM ARE BEING USED! ---
 ---                                     ---
 --- - - - - - - - - - - - - - - - - - - ---
>>>>>      Correction STRATEGY :       <<<<<
.
          open trajectory (steerers)
          orbit (steerers) 
.
>>>>>  --------------------------  <<<<<
Correction Step: 1/2
Open Trajectory Correction started. 5mm escursion accepted
correcting trajectory with model rm
Search closed orbit
Trajectory correction: nbpms= 29 ncor: 25, 25,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 2589.481 -> 948.933 um
Y: 1002.295 -> 312.795 um
Search closed orbit
Trajectory correction: nbpms= 31 ncor: 27, 27,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1995.599 -> 687.132 um
Y: 321.457 -> 134.930 um
Search closed orbit
Trajectory correction: nbpms= 40 ncor: 36, 36,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1452.119 -> 665.462 um
Y: 1085.699 -> 313.527 um
Search closed orbit
Trajectory correction: nbpms= 59 ncor: 52, 52,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1874.400 -> 721.895 um
Y: 1649.380 -> 593.284 um
Search closed orbit
Trajectory correction: nbpms= 100 ncor: 90, 90,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 2358.951 -> 993.884 um
Y: 1167.424 -> 692.176 um
Search closed orbit
Trajectory correction: nbpms= 120 ncor: 108, 108,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1065.343 -> 423.991 um
Y: 1188.788 -> 329.085 um
Search closed orbit
Trajectory correction: nbpms= 160 ncor: 144, 144,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 741.099 -> 329.838 um
Y: 864.244 -> 306.946 um
Search closed orbit
Trajectory correction: nbpms= 197 ncor: 176, 176,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 907.657 -> 338.104 um
Y: 693.569 -> 372.944 um
Search closed orbit
Trajectory correction: nbpms= 200 ncor: 180, 180,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 458.845 -> 272.903 um
Y: 581.118 -> 230.597 um
Search closed orbit
Trajectory correction: nbpms= 225 ncor: 203, 203,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1010.296 -> 366.306 um
Y: 761.687 -> 335.023 um
Search closed orbit
Trajectory correction: nbpms= 269 ncor: 241, 241,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1016.242 -> 433.844 um
Y: 1086.839 -> 414.719 um
Search closed orbit
Trajectory correction: nbpms= 296 ncor: 266, 266,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1455.494 -> 453.147 um
Y: 929.990 -> 448.339 um
Search closed orbit
Trajectory correction: nbpms= 320 ncor: 287, 287,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 762.822 -> 302.129 um
Y: 605.482 -> 304.276 um
Search closed orbit
Found closed orbit
 --- model lattice data --- 
 --- errors lattice data --- 
 --- corrected lattice data --- 
--------------------------------------------------
------ total std corrector values applyed --------
------                                    --------
       HK (288) [1/m]: 0.00e+00 -> 1.36e-03
       VK (288) [1/m]: 0.00e+00 -> 9.38e-04
       SK (288) [1/m2]: 0.00e+00 -> 0.00e+00
       QK (514) [1/m2]: 0.00e+00 -> 0.00e+00
------                                    --------
------    residual orbit and dispersion   --------
------                                    --------
       OH (3987) [m]: NaN -> 5.98e-04
       OV (3987) [m]: NaN -> 4.18e-04
       DH (3987) [m]: NaN -> 8.41e-03
       DV (3987) [m]:NaN -> 1.59e-02
       BBH (3987) %: NaN -> 28.0
       BBV (3987) %: NaN -> 19.6
       PhH (3987) : NaN -> 1.76e-01
       PhV (3987) : NaN -> 1.71e-01
------                                    --------
------        tune and emittance          --------
------                                    --------
       Qx [76.210]: NaN -> 76.150
       Qy [27.340]: NaN -> 27.313
       Cx [6.000]: NaN -> 2.786
       Cy [4.000]: NaN -> 3.100
       EX [132.111 pm]: NaN -> 193.504
       EY [0.000pm]: NaN -> 79.973
------                                    --------
--------------------------------------------------
Correction Step: 2/2
Steerers to fix orbit H  using 200 eig
Steerers to fix orbit V  using 200 eig
 --- reference orbit = 0
Orbit correction iter 1,n-eig: 20, 20,
Orbit correction iter 2,n-eig: 40, 40,
Orbit correction iter 3,n-eig: 60, 60,
Orbit correction iter 4,n-eig: 80, 80,
Orbit correction iter 5,n-eig: 100, 100,
Orbit correction iter 6,n-eig: 120, 120,
Orbit correction iter 7,n-eig: 140, 140,
Orbit correction iter 8,n-eig: 160, 160,
Orbit correction iter 9,n-eig: 180, 180,
Orbit correction iter 10,n-eig: 200, 200,
      before    -->    after
oX: 686.305 -> 265.292um
oY: 358.338 -> 174.848um
    min    mean    max
hs:-0.66   0.01   0.85 mrad
vs:-0.63  -0.00   0.36 mrad
dpp: 0
 --- model lattice data --- 
 --- errors lattice data --- 
{Operation terminated by user during <a href="matlab:matlab.internal.language.introspective.errorDocCallback('atlinopt/analyze', '/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/atlinopt.m', 152)" style="font-weight:bold">atlinopt/analyze</a> (<a href="matlab: opentoline('/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/atlinopt.m',152,0)">line 152</a>)


In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('atlinopt', '/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/atlinopt.m', 91)" style="font-weight:bold">atlinopt</a> (<a href="matlab: opentoline('/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/atlinopt.m',91,0)">line 91</a>)
[MSA,MSB,gamma,CL,AL,BL]=cellfun(@analyze,num2cell(MS,[1 2]),'UniformOutput',false);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('DisplayCorrectionEffect>getdatalattice', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/DisplayCorrectionEffect.m', 141)" style="font-weight:bold">DisplayCorrectionEffect>getdatalattice</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/DisplayCorrectionEffect.m',141,0)">line 141</a>)
[l,t,a.crom]=atlinopt(r0,0,refpts);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('DisplayCorrectionEffect', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/DisplayCorrectionEffect.m', 34)" style="font-weight:bold">DisplayCorrectionEffect</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/DisplayCorrectionEffect.m',34,0)">line 34</a>)
de=getdatalattice(rerr,inCODe,refpts,indHCor,indVCor,indQCor,indSCor,compute_emittances);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('CorrectionChain', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectionChain.m', 907)" style="font-weight:bold">CorrectionChain</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectionChain.m',907,0)">line 907</a>)
    DisplayCorrectionEffect(r0,rerr0,rerr,inCODe,inCOD,1:length(r0),indHCor,indVCor,indQuadCor,indSkewQuadCor);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('CorrectLattice', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectLattice.m', 73)" style="font-weight:bold">CorrectLattice</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectLattice.m',73,0)">line 73</a>)
[rcor]=CorrectionChain(...

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('testorbitaftertrajectory', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/testorbitaftertrajectory.m', 68)" style="font-weight:bold">testorbitaftertrajectory</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/testorbitaftertrajectory.m',68,0)">line 68</a>)
rcor=CorrectLattice(...
} 
testorbitaftertrajectory
corr order  : 0, 1,
corr eig    : 200, 200, 200, 250, 350, 100, 350,
>>>>>  Correction sequence started  <<<<<
     # BPM  : 320
     # V cor: 288
     # H cor: 288
     # S cor: 288
     # Q cor: 514
>>>>>  --------------------------  <<<<<
 --- - - - - - - - - - - - - - - - - - - ---
 ---                                     ---
 --- FAST MODE: MODEL RM ARE BEING USED! ---
 ---                                     ---
 --- - - - - - - - - - - - - - - - - - - ---
>>>>>      Correction STRATEGY :       <<<<<
.
          open trajectory (steerers)
          orbit (steerers) 
.
>>>>>  --------------------------  <<<<<
Correction Step: 1/2
Open Trajectory Correction started. 5mm escursion accepted
correcting trajectory with model rm
Search closed orbit
Trajectory correction: nbpms= 48 ncor: 42, 42,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 2009.408 -> 849.740 um
Y: 1733.747 -> 938.199 um
Search closed orbit
Trajectory correction: nbpms= 59 ncor: 52, 52,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1664.281 -> 593.528 um
Y: 1285.352 -> 456.301 um
Search closed orbit
Trajectory correction: nbpms= 87 ncor: 77, 77,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1938.330 -> 632.781 um
Y: 1486.795 -> 667.250 um
Search closed orbit
Trajectory correction: nbpms= 185 ncor: 167, 167,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1766.242 -> NaN um
Y: 1234.672 -> NaN um
Search closed orbit
Trajectory correction: nbpms= 170 ncor: 153, 153,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 556.047 -> 349.479 um
Y: 1294.057 -> 592.521 um
Search closed orbit
Trajectory correction: nbpms= 218 ncor: 195, 195,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1247.171 -> 359.703 um
Y: 1069.744 -> 632.664 um
Search closed orbit
Trajectory correction: nbpms= 267 ncor: 239, 239,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1833.051 -> 745.754 um
Y: 908.973 -> 445.944 um
Search closed orbit
Trajectory correction: nbpms= 296 ncor: 266, 266,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1533.229 -> 444.737 um
Y: 992.174 -> 587.718 um
Search closed orbit
Trajectory correction: nbpms= 300 ncor: 270, 270,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 457.500 -> 250.337 um
Y: 732.107 -> 268.153 um
Search closed orbit
Trajectory correction: nbpms= 320 ncor: 287, 287,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 532.619 -> 222.858 um
Y: 333.214 -> 146.212 um
Search closed orbit
Found closed orbit
 --- model lattice data --- 
{Operation terminated by user during <a href="matlab:matlab.internal.language.introspective.errorDocCallback('bpm_process', '/mntdirect/_users/liuzzo/atwork-code/physics/errorsettingfunctions/bpm_process.m', 6)" style="font-weight:bold">bpm_process</a> (<a href="matlab: opentoline('/mntdirect/_users/liuzzo/atwork-code/physics/errorsettingfunctions/bpm_process.m',6,0)">line 6</a>)


In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('findorbit6Err', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/errors/findorbit6Err.m', 13)" style="font-weight:bold">findorbit6Err</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/errors/findorbit6Err.m',13,0)">line 13</a>)
bpmreading = bpm_process(orbit([1,3],:),rel,tel,trand);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('finddispersion6Err', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/errors/finddispersion6Err.m', 11)" style="font-weight:bold">finddispersion6Err</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/errors/finddispersion6Err.m',11,0)">line 11</a>)
orbitp = findorbit6Err(RINGp, indbpm, inCOD);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('DisplayCorrectionEffect>getdatalattice', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/DisplayCorrectionEffect.m', 123)" style="font-weight:bold">DisplayCorrectionEffect>getdatalattice</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/DisplayCorrectionEffect.m',123,0)">line 123</a>)
d=finddispersion6Err(r0,refpts,indrfc,alpha,1e-4,inCOD);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('DisplayCorrectionEffect', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/DisplayCorrectionEffect.m', 31)" style="font-weight:bold">DisplayCorrectionEffect</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/DisplayCorrectionEffect.m',31,0)">line 31</a>)
d0=getdatalattice(r0,inCODe*0,refpts,indHCor,indVCor,indQCor,indSCor,compute_emittances);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('CorrectionChain', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectionChain.m', 907)" style="font-weight:bold">CorrectionChain</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectionChain.m',907,0)">line 907</a>)
    DisplayCorrectionEffect(r0,rerr0,rerr,inCODe,inCOD,1:length(r0),indHCor,indVCor,indQuadCor,indSkewQuadCor);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('CorrectLattice', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectLattice.m', 73)" style="font-weight:bold">CorrectLattice</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectLattice.m',73,0)">line 73</a>)
[rcor]=CorrectionChain(...

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('testorbitaftertrajectory', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/testorbitaftertrajectory.m', 68)" style="font-weight:bold">testorbitaftertrajectory</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/testorbitaftertrajectory.m',68,0)">line 68</a>)
rcor=CorrectLattice(...
} 



testorbitaftertrajectory
corr order  : 0, 1,
corr eig    : 200, 200, 200, 250, 350, 100, 350,
>>>>>  Correction sequence started  <<<<<
     # BPM  : 320
     # V cor: 288
     # H cor: 288
     # S cor: 288
     # Q cor: 514
>>>>>  --------------------------  <<<<<
 --- - - - - - - - - - - - - - - - - - - ---
 ---                                     ---
 --- FAST MODE: MODEL RM ARE BEING USED! ---
 ---                                     ---
 --- - - - - - - - - - - - - - - - - - - ---
>>>>>      Correction STRATEGY :       <<<<<
.
          open trajectory (steerers)
          orbit (steerers) 
.
>>>>>  --------------------------  <<<<<
Correction Step: 1/2
Open Trajectory Correction started. 5mm escursion accepted
correcting trajectory with model rm
Search closed orbit
Trajectory correction: nbpms= 38 ncor: 33, 33,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 2490.554 -> 986.756 um
Y: 1514.490 -> 785.904 um
Search closed orbit
Trajectory correction: nbpms= 80 ncor: 72, 72,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 2154.288 -> 885.984 um
Y: 1579.044 -> 395.968 um
Search closed orbit
Trajectory correction: nbpms= 117 ncor: 104, 104,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1377.545 -> 567.450 um
Y: 953.837 -> 337.604 um
Search closed orbit
Trajectory correction: nbpms= 130 ncor: 117, 117,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 823.093 -> 361.419 um
Y: 642.092 -> 208.067 um
Search closed orbit
Trajectory correction: nbpms= 149 ncor: 133, 133,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 460.133 -> 276.061 um
Y: 771.333 -> 202.561 um
Search closed orbit
Trajectory correction: nbpms= 180 ncor: 162, 162,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1654.740 -> 542.921 um
Y: 760.009 -> 306.918 um
Search closed orbit
Trajectory correction: nbpms= 230 ncor: 207, 207,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 2608.472 -> NaN um
Y: 1156.410 -> NaN um
Search closed orbit
Trajectory correction: nbpms= 219 ncor: 196, 196,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 911.084 -> 379.473 um
Y: 319.213 -> 170.942 um
Search closed orbit
Trajectory correction: nbpms= 234 ncor: 211, 211,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1387.130 -> 570.470 um
Y: 677.065 -> 377.571 um
Search closed orbit
Trajectory correction: nbpms= 265 ncor: 239, 239,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1164.001 -> 512.553 um
Y: 814.705 -> 327.957 um
Search closed orbit
Trajectory correction: nbpms= 277 ncor: 248, 248,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 810.542 -> 278.198 um
Y: 689.040 -> 340.342 um
Search closed orbit
Trajectory correction: nbpms= 319 ncor: 286, 286,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1186.206 -> 356.517 um
Y: 959.822 -> 314.604 um
Search closed orbit
Trajectory correction: nbpms= 320 ncor: 287, 287,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 361.880 -> 216.267 um
Y: 315.064 -> 116.407 um
Search closed orbit
Found closed orbit
Correction Step: 2/2
Steerers to fix orbit H  using 200 eig
Steerers to fix orbit V  using 200 eig
 --- reference orbit = 0
Orbit correction iter 1,n-eig: 20, 20,
Orbit correction iter 2,n-eig: 40, 40,
Orbit correction iter 3,n-eig: 60, 60,
Orbit correction iter 4,n-eig: 80, 80,
Orbit correction iter 5,n-eig: 100, 100,
Orbit correction iter 6,n-eig: 120, 120,
Orbit correction iter 7,n-eig: 140, 140,
Orbit correction iter 8,n-eig: 160, 160,
Orbit correction iter 9,n-eig: 180, 180,
Orbit correction iter 10,n-eig: 200, 200,
      before    -->    after
oX: 659.457 -> 203.019um
oY: 369.537 -> 132.196um
    min    mean    max
hs:-0.52   0.00   0.68 mrad
vs:-0.71   0.00   0.36 mrad
dpp: 0
 --- model lattice data --- 
{Operation terminated by user during <a href="matlab:matlab.internal.language.introspective.errorDocCallback('linepass', '/users/liuzzo/ATcode/atcollab-code-0/atmat/attrack/linepass.m', 94)" style="font-weight:bold">linepass</a> (<a href="matlab: opentoline('/users/liuzzo/ATcode/atcollab-code-0/atmat/attrack/linepass.m',94,0)">line 94</a>)


In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('findorbit4', '/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/findorbit4.m', 75)" style="font-weight:bold">findorbit4</a> (<a href="matlab: opentoline('/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/findorbit4.m',75,0)">line 75</a>)
    RMATf = linepass(RING,RMATi,reuse{:});


In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('atlinopt', '/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/atlinopt.m', 118)" style="font-weight:bold">atlinopt</a> (<a href="matlab: opentoline('/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/atlinopt.m',118,0)">line 118</a>)
    [orbM,o1M]=findorbit4(RING,DP-0.5*dDP,REFPTS);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('atx/atx2', '/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/atx.m', 90)" style="font-weight:bold">atx/atx2</a> (<a href="matlab: opentoline('/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/atx.m',90,0)">line 90</a>)
        [lindata,tunes,xsi]=atlinopt(ring,dpp,refpts);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('atx', '/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/atx.m', 73)" style="font-weight:bold">atx</a> (<a href="matlab: opentoline('/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/atx.m',73,0)">line 73</a>)
[varargout{1:nargout}]=atx2(ring(:,1),energy,periods,voltage,eloss,varargin{:});

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('DisplayCorrectionEffect>getdatalattice', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/DisplayCorrectionEffect.m', 129)" style="font-weight:bold">DisplayCorrectionEffect>getdatalattice</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/DisplayCorrectionEffect.m',129,0)">line 129</a>)
        [~,b0]=atx(r0,0,1:length(r0));

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('DisplayCorrectionEffect', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/DisplayCorrectionEffect.m', 31)" style="font-weight:bold">DisplayCorrectionEffect</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/DisplayCorrectionEffect.m',31,0)">line 31</a>)
d0=getdatalattice(r0,inCODe*0,refpts,indHCor,indVCor,indQCor,indSCor,compute_emittances);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('CorrectionChain', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectionChain.m', 920)" style="font-weight:bold">CorrectionChain</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectionChain.m',920,0)">line 920</a>)
    DisplayCorrectionEffect(r0,rerr0,rerr,inCODe,inCOD,1:length(r0),indHCor,indVCor,indQuadCor,indSkewQuadCor);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('CorrectLattice', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectLattice.m', 73)" style="font-weight:bold">CorrectLattice</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectLattice.m',73,0)">line 73</a>)
[rcor]=CorrectionChain(...

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('testorbitaftertrajectory', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/testorbitaftertrajectory.m', 68)" style="font-weight:bold">testorbitaftertrajectory</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/testorbitaftertrajectory.m',68,0)">line 68</a>)
rcor=CorrectLattice(...
} 


testorbitaftertrajectory
corr order  : 0, 1,
corr eig    : 200, 200, 200, 250, 350, 100, 350,
>>>>>  Correction sequence started  <<<<<
     # BPM  : 320
     # V cor: 288
     # H cor: 288
     # S cor: 288
     # Q cor: 514
>>>>>  --------------------------  <<<<<
 --- - - - - - - - - - - - - - - - - - - ---
 ---                                     ---
 --- FAST MODE: MODEL RM ARE BEING USED! ---
 ---                                     ---
 --- - - - - - - - - - - - - - - - - - - ---
>>>>>      Correction STRATEGY :       <<<<<
.
          open trajectory (steerers)
          orbit (steerers) 
.
>>>>>  --------------------------  <<<<<
Correction Step: 1/2
<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectionChain.m',173,1)">173 </a>    switch cor
dbcont
Open Trajectory Correction started. 5mm escursion accepted
correcting trajectory with model rm
Search closed orbit
Trajectory correction: nbpms= 40 ncor: 36, 36,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 2171.109 -> 588.133 um
Y: 1583.773 -> 698.549 um
Search closed orbit
Trajectory correction: nbpms= 70 ncor: 63, 63,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 890.297 -> 410.977 um
Y: 1620.895 -> 631.850 um
Search closed orbit
Trajectory correction: nbpms= 128 ncor: 114, 114,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1834.798 -> 1493.640 um
Y: 1278.284 -> 734.969 um
Search closed orbit
Trajectory correction: nbpms= 172 ncor: 155, 155,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 2574.501 -> 811.077 um
Y: 918.084 -> 369.242 um
Search closed orbit
Trajectory correction: nbpms= 200 ncor: 180, 180,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1584.039 -> 791.574 um
Y: 535.211 -> 282.967 um
Search closed orbit
Trajectory correction: nbpms= 290 ncor: 261, 261,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1383.067 -> 1690.390 um
Y: 1330.587 -> 1010.691 um
Search closed orbit
Trajectory correction: nbpms= 319 ncor: 286, 286,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1946.199 -> 784.618 um
Y: 1065.282 -> 365.836 um
Search closed orbit
Trajectory correction: nbpms= 320 ncor: 287, 287,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 784.720 -> 328.522 um
Y: 380.698 -> 168.678 um
Search closed orbit
Found closed orbit
Correction Step: 2/2
<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectionChain.m',173,1)">173 </a>    switch cor
findorbit6Err(rerr,1,inCOD)

ans =

   0.002436585031811
   0.000068379073157
  -0.000146601129332
  -0.000047776960607
   0.001186985406880
   0.000043867720066

inCOD

inCOD =

     0
     0
     0
     0
     0
     0

findtrajectory6Err(rerr,1,inCOD)

ans =

     0
     0
     0
     0
     0
     0

edit findtrajectory6Err.m
findtrajectory6Err(rerr,length(rerr),inCOD)

ans =

   1.0e-03 *

   0.132939214559892
   0.132267742494203
   0.144204322515960
  -0.101044140191236
   0.000530378077747
  -0.084550977818066





dbquit
testorbitaftertrajectory
corr order  : 0, 1,
corr eig    : 200, 200, 200, 250, 350, 100, 350,
>>>>>  Correction sequence started  <<<<<
     # BPM  : 320
     # V cor: 288
     # H cor: 288
     # S cor: 288
     # Q cor: 514
>>>>>  --------------------------  <<<<<
 --- - - - - - - - - - - - - - - - - - - ---
 ---                                     ---
 --- FAST MODE: MODEL RM ARE BEING USED! ---
 ---                                     ---
 --- - - - - - - - - - - - - - - - - - - ---
>>>>>      Correction STRATEGY :       <<<<<
.
          open trajectory (steerers)
          orbit (steerers) 
.
>>>>>  --------------------------  <<<<<
Correction Step: 1/2
Open Trajectory Correction started. 5mm escursion accepted
correcting trajectory with model rm
Search closed orbit
Trajectory correction: nbpms= 78 ncor: 69, 69,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 2679.616 -> 1272.132 um
Y: 1594.458 -> 815.866 um
Search closed orbit
Trajectory correction: nbpms= 120 ncor: 108, 108,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 3834.725 -> 1548.451 um
Y: 1536.919 -> 750.877 um
Search closed orbit
Trajectory correction: nbpms= 141 ncor: 126, 126,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1712.452 -> 829.727 um
Y: 910.099 -> 370.596 um
Search closed orbit
Trajectory correction: nbpms= 185 ncor: 167, 167,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1801.490 -> 694.059 um
Y: 750.179 -> 385.538 um
Search closed orbit
Trajectory correction: nbpms= 189 ncor: 169, 169,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 759.220 -> 380.557 um
Y: 618.042 -> 326.534 um
Search closed orbit
Trajectory correction: nbpms= 200 ncor: 180, 180,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 631.177 -> 309.893 um
Y: 778.390 -> 263.764 um
Search closed orbit
Trajectory correction: nbpms= 209 ncor: 187, 187,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 332.147 -> 252.601 um
Y: 582.979 -> 211.883 um
Search closed orbit
Trajectory correction: nbpms= 250 ncor: 225, 225,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1993.703 -> 920.043 um
Y: 731.297 -> 307.628 um
Search closed orbit
Trajectory correction: nbpms= 274 ncor: 247, 247,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 2553.245 -> 1034.360 um
Y: 671.269 -> 436.442 um
Search closed orbit
Trajectory correction: nbpms= 277 ncor: 248, 248,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1280.710 -> 554.299 um
Y: 449.801 -> 235.208 um
Search closed orbit
Trajectory correction: nbpms= 288 ncor: 258, 258,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1233.040 -> 347.974 um
Y: 402.686 -> 233.538 um
Search closed orbit
Trajectory correction: nbpms= 320 ncor: 287, 287,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 574.086 -> 259.055 um
Y: 549.721 -> 210.197 um
Search closed orbit
{Undefined function or variable 'r0'.

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('MatchLast2CorForFirstBPM', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/MatchLast2CorForFirstBPM.m', 36)" style="font-weight:bold">MatchLast2CorForFirstBPM</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/MatchLast2CorForFirstBPM.m',36,0)">line 36</a>)
[intwi,~,~]=atlinopt(r0,0,1);

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('atfirstturntrajectory', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/atfirstturntrajectory.m', 179)" style="font-weight:bold">atfirstturntrajectory</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/atfirstturntrajectory.m',179,0)">line 179</a>)
        ropen=MatchLast2CorForFirstBPM(ropen, inCOD);

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('CorrectionChain', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectionChain.m', 209)" style="font-weight:bold">CorrectionChain</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectionChain.m',209,0)">line 209</a>)
                rerr,...

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('CorrectLattice', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectLattice.m', 73)" style="font-weight:bold">CorrectLattice</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectLattice.m',73,0)">line 73</a>)
[rcor]=CorrectionChain(...

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('testorbitaftertrajectory', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/testorbitaftertrajectory.m', 68)" style="font-weight:bold">testorbitaftertrajectory</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/testorbitaftertrajectory.m',68,0)">line 68</a>)
rcor=CorrectLattice(...
} 
opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/MatchLast2CorForFirstBPM.m',36,0)
opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/MatchLast2CorForFirstBPM.m',36,0)


testorbitaftertrajectory
corr order  : 0, 1,
corr eig    : 200, 200, 200, 250, 350, 100, 350,
>>>>>  Correction sequence started  <<<<<
     # BPM  : 320
     # V cor: 288
     # H cor: 288
     # S cor: 288
     # Q cor: 514
>>>>>  --------------------------  <<<<<
 --- - - - - - - - - - - - - - - - - - - ---
 ---                                     ---
 --- FAST MODE: MODEL RM ARE BEING USED! ---
 ---                                     ---
 --- - - - - - - - - - - - - - - - - - - ---
>>>>>      Correction STRATEGY :       <<<<<
.
          open trajectory (steerers)
          orbit (steerers) 
.
>>>>>  --------------------------  <<<<<
Correction Step: 1/2
Open Trajectory Correction started. 5mm escursion accepted
correcting trajectory with model rm
Search closed orbit
Trajectory correction: nbpms= 89 ncor: 79, 79,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1939.399 -> 921.890 um
Y: 1718.663 -> 601.784 um
Search closed orbit
Trajectory correction: nbpms= 117 ncor: 104, 104,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 2011.898 -> 1127.749 um
Y: 1422.879 -> 565.678 um
Search closed orbit
Trajectory correction: nbpms= 140 ncor: 126, 126,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1313.575 -> 765.373 um
Y: 1262.461 -> 418.185 um
Search closed orbit
Trajectory correction: nbpms= 190 ncor: 171, 171,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1006.740 -> 541.502 um
Y: 1291.166 -> 617.740 um
Search closed orbit
Trajectory correction: nbpms= 256 ncor: 230, 230,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1207.371 -> 491.682 um
Y: 1189.019 -> 838.013 um
Search closed orbit
Trajectory correction: nbpms= 258 ncor: 231, 231,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 497.612 -> 258.018 um
Y: 903.170 -> 440.648 um
Search closed orbit
Trajectory correction: nbpms= 290 ncor: 261, 261,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 596.152 -> 315.847 um
Y: 870.449 -> 373.586 um
Search closed orbit
Trajectory correction: nbpms= 320 ncor: 287, 287,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 562.105 -> 287.942 um
Y: 685.082 -> 264.198 um
Search closed orbit
{Error using <a href="matlab:matlab.internal.language.introspective.errorDocCallback('vertcat')" style="font-weight:bold">vertcat</a>
Dimensions of matrices being concatenated are not consistent.

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('twissline', '/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/twissline.m', 135)" style="font-weight:bold">twissline</a> (<a href="matlab: opentoline('/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/twissline.m',135,0)">line 135</a>)
R0 = [TWISSDATAIN(end).ClosedOrbit;DP;0];


Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('atEvaluateConstraints', '/users/liuzzo/ATcode/atcollab-code-0/atmat/atmatch/atEvaluateConstraints.m', 40)" style="font-weight:bold">atEvaluateConstraints</a> (<a href="matlab: opentoline('/users/liuzzo/ATcode/atcollab-code-0/atmat/atmatch/atEvaluateConstraints.m',40,0)">line 40</a>)
        [lindata]=twissline(R,0.0,twissin,posarray,'chrom');

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('atmatch', '/users/liuzzo/ATcode/atcollab-code-0/atmat/atmatch/atmatch.m', 159)" style="font-weight:bold">atmatch</a> (<a href="matlab: opentoline('/users/liuzzo/ATcode/atcollab-code-0/atmat/atmatch/atmatch.m',159,0)">line 159</a>)
cstr1=atEvaluateConstraints(Ring,evalfunc,posarray,indinposarray,twissin);

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('MatchLast2CorForFirstBPM', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/MatchLast2CorForFirstBPM.m', 39)" style="font-weight:bold">MatchLast2CorForFirstBPM</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/MatchLast2CorForFirstBPM.m',39,0)">line 39</a>)
[rmatch]=atmatch(...

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('atfirstturntrajectory', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/atfirstturntrajectory.m', 179)" style="font-weight:bold">atfirstturntrajectory</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/atfirstturntrajectory.m',179,0)">line 179</a>)
        ropen=MatchLast2CorForFirstBPM(ropen, inCOD);

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('CorrectionChain', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectionChain.m', 209)" style="font-weight:bold">CorrectionChain</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectionChain.m',209,0)">line 209</a>)
                rerr,...

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('CorrectLattice', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectLattice.m', 73)" style="font-weight:bold">CorrectLattice</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectLattice.m',73,0)">line 73</a>)
[rcor]=CorrectionChain(...

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('testorbitaftertrajectory', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/testorbitaftertrajectory.m', 68)" style="font-weight:bold">testorbitaftertrajectory</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/testorbitaftertrajectory.m',68,0)">line 68</a>)
rcor=CorrectLattice(...
} 


testorbitaftertrajectory
corr order  : 0, 1,
corr eig    : 200, 200, 200, 250, 350, 100, 350,
>>>>>  Correction sequence started  <<<<<
     # BPM  : 320
     # V cor: 288
     # H cor: 288
     # S cor: 288
     # Q cor: 514
>>>>>  --------------------------  <<<<<
 --- - - - - - - - - - - - - - - - - - - ---
 ---                                     ---
 --- FAST MODE: MODEL RM ARE BEING USED! ---
 ---                                     ---
 --- - - - - - - - - - - - - - - - - - - ---
>>>>>      Correction STRATEGY :       <<<<<
.
          open trajectory (steerers)
          orbit (steerers) 
.
>>>>>  --------------------------  <<<<<
Correction Step: 1/2
Open Trajectory Correction started. 5mm escursion accepted
correcting trajectory with model rm
Search closed orbit
Trajectory correction: nbpms= 36 ncor: 32, 32,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1520.887 -> 540.371 um
Y: 2456.067 -> 1555.013 um
Search closed orbit
Trajectory correction: nbpms= 40 ncor: 36, 36,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 740.539 -> 505.209 um
Y: 1874.186 -> 703.740 um
Search closed orbit
Trajectory correction: nbpms= 60 ncor: 54, 54,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 493.509 -> 396.368 um
Y: 1716.981 -> 595.771 um
Search closed orbit
Trajectory correction: nbpms= 138 ncor: 123, 123,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 2055.461 -> 1129.928 um
Y: 951.202 -> 422.271 um
Search closed orbit
Trajectory correction: nbpms= 225 ncor: 203, 203,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 2060.618 -> 1377.288 um
Y: 1226.020 -> 1269.782 um
Search closed orbit
Trajectory correction: nbpms= 230 ncor: 207, 207,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1423.460 -> 663.285 um
Y: 1330.843 -> 535.141 um
Search closed orbit
Trajectory correction: nbpms= 280 ncor: 252, 252,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1267.592 -> 750.799 um
Y: 1232.349 -> 450.196 um
Search closed orbit
Trajectory correction: nbpms= 307 ncor: 275, 275,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1170.083 -> 427.025 um
Y: 735.377 -> 338.758 um
Search closed orbit
Trajectory correction: nbpms= 319 ncor: 286, 286,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 938.801 -> 304.958 um
Y: 632.619 -> 198.049 um
Search closed orbit
Trajectory correction: nbpms= 320 ncor: 287, 287,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 305.232 -> 200.931 um
Y: 202.548 -> 88.879 um
Search closed orbit
{Error using <a href="matlab:matlab.internal.language.introspective.errorDocCallback('vertcat')" style="font-weight:bold">vertcat</a>
Dimensions of matrices being concatenated are not consistent.

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('twissline', '/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/twissline.m', 135)" style="font-weight:bold">twissline</a> (<a href="matlab: opentoline('/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/twissline.m',135,0)">line 135</a>)
R0 = [TWISSDATAIN(end).ClosedOrbit;DP;0];


Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('atEvaluateConstraints', '/users/liuzzo/ATcode/atcollab-code-0/atmat/atmatch/atEvaluateConstraints.m', 40)" style="font-weight:bold">atEvaluateConstraints</a> (<a href="matlab: opentoline('/users/liuzzo/ATcode/atcollab-code-0/atmat/atmatch/atEvaluateConstraints.m',40,0)">line 40</a>)
        [lindata]=twissline(R,0.0,twissin,posarray,'chrom');

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('atmatch', '/users/liuzzo/ATcode/atcollab-code-0/atmat/atmatch/atmatch.m', 159)" style="font-weight:bold">atmatch</a> (<a href="matlab: opentoline('/users/liuzzo/ATcode/atcollab-code-0/atmat/atmatch/atmatch.m',159,0)">line 159</a>)
cstr1=atEvaluateConstraints(Ring,evalfunc,posarray,indinposarray,twissin);

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('MatchLast2CorForFirstBPM', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/MatchLast2CorForFirstBPM.m', 39)" style="font-weight:bold">MatchLast2CorForFirstBPM</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/MatchLast2CorForFirstBPM.m',39,0)">line 39</a>)
[rmatch]=atmatch(...

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('atfirstturntrajectory', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/atfirstturntrajectory.m', 179)" style="font-weight:bold">atfirstturntrajectory</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/atfirstturntrajectory.m',179,0)">line 179</a>)
        ropen=MatchLast2CorForFirstBPM(ropen, inCOD);

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('CorrectionChain', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectionChain.m', 209)" style="font-weight:bold">CorrectionChain</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectionChain.m',209,0)">line 209</a>)
                rerr,...

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('CorrectLattice', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectLattice.m', 73)" style="font-weight:bold">CorrectLattice</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectLattice.m',73,0)">line 73</a>)
[rcor]=CorrectionChain(...

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('testorbitaftertrajectory', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/testorbitaftertrajectory.m', 68)" style="font-weight:bold">testorbitaftertrajectory</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/testorbitaftertrajectory.m',68,0)">line 68</a>)
rcor=CorrectLattice(...
} 


testorbitaftertrajectory
corr order  : 0, 1,
corr eig    : 200, 200, 200, 250, 350, 100, 350,
>>>>>  Correction sequence started  <<<<<
     # BPM  : 320
     # V cor: 288
     # H cor: 288
     # S cor: 288
     # Q cor: 514
>>>>>  --------------------------  <<<<<
 --- - - - - - - - - - - - - - - - - - - ---
 ---                                     ---
 --- FAST MODE: MODEL RM ARE BEING USED! ---
 ---                                     ---
 --- - - - - - - - - - - - - - - - - - - ---
>>>>>      Correction STRATEGY :       <<<<<
.
          open trajectory (steerers)
          orbit (steerers) 
.
>>>>>  --------------------------  <<<<<
Correction Step: 1/2
Open Trajectory Correction started. 5mm escursion accepted
correcting trajectory with model rm
Search closed orbit
Trajectory correction: nbpms= 37 ncor: 32, 32,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 2658.163 -> 764.571 um
Y: 1840.237 -> 524.765 um
Search closed orbit
Trajectory correction: nbpms= 60 ncor: 54, 54,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 983.201 -> 599.663 um
Y: 1418.336 -> 419.135 um
Search closed orbit
Trajectory correction: nbpms= 133 ncor: 120, 120,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 2092.791 -> 1575.836 um
Y: 1286.481 -> 787.802 um
Search closed orbit
Trajectory correction: nbpms= 154 ncor: 139, 139,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 2022.987 -> 680.258 um
Y: 758.215 -> 488.976 um
Search closed orbit
Trajectory correction: nbpms= 168 ncor: 150, 150,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1782.598 -> 520.476 um
Y: 522.370 -> 324.352 um
Search closed orbit
Trajectory correction: nbpms= 233 ncor: 210, 210,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1777.920 -> 785.922 um
Y: 1095.907 -> 674.203 um
Search closed orbit
Trajectory correction: nbpms= 308 ncor: 276, 276,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1521.259 -> 804.243 um
Y: 1205.421 -> 554.609 um
Search closed orbit
Trajectory correction: nbpms= 320 ncor: 287, 287,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 901.294 -> 367.332 um
Y: 617.337 -> 258.826 um
Search closed orbit
f2: 
5.5273e-07  3.4165e-07  4.9044e-06   7.392e-07  1.5212e-14  1.7262e-08
Sum of f2: 
6.5553e-06

                                         Norm of      First-order 
 Iteration  Func-count     f(x)          step          optimality
     0          5     6.55529e-06                       0.00558
     1         10     2.04623e-08     0.00359635       1.45e-07      
     2         15      2.0462e-08     2.1697e-05       1.04e-10      

<a href = "matlab: helpview([docroot '/toolbox/optim/msg_csh/optim_msg_csh.map'],'local_min_possible_lsq','CSHelpWindow');">Local minimum possible</a>.

lsqnonlin stopped because the final change in the sum of squares relative to 
its initial value is less than the selected value of the <a href = "matlab: helpview([docroot '/toolbox/optim/msg_csh/optim_msg_csh.map'],'function_tolerance_lsq','CSHelpWindow');">function tolerance</a>.

<<a href = "matlab: createExitMsg('snls',3.000000e+00,true,true,'lsqnonlin',2.763447e-13,'selected',1.000000e-12,0.000000e+00,'',0.000000e+00,0.000000e+00,'',0.000000e+00);">stopping criteria details</a>>

-----oooooo----oooooo----oooooo----
   
f2: 
6.4797e-13  1.7259e-11  3.2312e-15  2.0833e-14  1.5212e-14  2.0444e-08
Sum of f2: 
2.0462e-08
   
-----oooooo----oooooo----oooooo----
   
Final constraints values:
   
Name          lat_indx      before         after           low            high       min dif before    min dif after  
@(r,~,~)transpose(fi  1  -7.684e-04	-2.413e-05	-2.493e-05	-2.493e-05	 7.435e-04	 7.435e-04
@(r,~,~)transpose(fi  2   4.896e-04	-9.072e-05	-9.487e-05	-9.487e-05	 5.845e-04	 5.845e-04
@(r,~,~)transpose(fi  3  -2.241e-03	-2.607e-05	-2.613e-05	-2.613e-05	 2.215e-03	 2.215e-03
@(r,~,~)transpose(fi  4  -8.196e-04	 4.007e-05	 4.021e-05	 4.021e-05	 8.598e-04	 8.598e-04
@(r,~,~)transpose(fi  5  -1.233e-07	-1.233e-07	 0.000e+00	 0.000e+00	 1.233e-07	 1.233e-07
@(r,~,~)transpose(fi  6   1.314e-04	 1.430e-04	 6.813e-09	 6.813e-09	 1.314e-04	 1.314e-04
   
-----oooooo----oooooo----oooooo----
    
Final variable values:
   
Name       field          before    after   variation
SI1E       PolynomB     -0.000413353    -0.00189709    -0.00148373
SH3E       PolynomB            0    -0.00176223    -0.00176223
SI1E       PolynomA     -0.000159559    -0.000143606    1.59533e-05
SH3E       PolynomA            0    0.00274129    0.00274129
   
-----oooooo----oooooo----oooooo----
   
{Undefined function or variable 'r0'.

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('MatchLast2CorForFirstBPM', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/MatchLast2CorForFirstBPM.m', 42)" style="font-weight:bold">MatchLast2CorForFirstBPM</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/MatchLast2CorForFirstBPM.m',42,0)">line 42</a>)
 [tm]=findtrajectory6Err(rmatch,r0,indBPM,inCOD);

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('atfirstturntrajectory', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/atfirstturntrajectory.m', 179)" style="font-weight:bold">atfirstturntrajectory</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/atfirstturntrajectory.m',179,0)">line 179</a>)
        ropen=MatchLast2CorForFirstBPM(ropen, inCOD);

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('CorrectionChain', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectionChain.m', 209)" style="font-weight:bold">CorrectionChain</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectionChain.m',209,0)">line 209</a>)
                rerr,...

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('CorrectLattice', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectLattice.m', 73)" style="font-weight:bold">CorrectLattice</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectLattice.m',73,0)">line 73</a>)
[rcor]=CorrectionChain(...

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('testorbitaftertrajectory', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/testorbitaftertrajectory.m', 68)" style="font-weight:bold">testorbitaftertrajectory</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/testorbitaftertrajectory.m',68,0)">line 68</a>)
rcor=CorrectLattice(...
} 
opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/MatchLast2CorForFirstBPM.m',42,0)
testorbitaftertrajectory
corr order  : 0, 1,
corr eig    : 200, 200, 200, 250, 350, 100, 350,
>>>>>  Correction sequence started  <<<<<
     # BPM  : 320
     # V cor: 288
     # H cor: 288
     # S cor: 288
     # Q cor: 514
>>>>>  --------------------------  <<<<<
 --- - - - - - - - - - - - - - - - - - - ---
 ---                                     ---
 --- FAST MODE: MODEL RM ARE BEING USED! ---
 ---                                     ---
 --- - - - - - - - - - - - - - - - - - - ---
>>>>>      Correction STRATEGY :       <<<<<
.
          open trajectory (steerers)
          orbit (steerers) 
.
>>>>>  --------------------------  <<<<<
Correction Step: 1/2
Open Trajectory Correction started. 5mm escursion accepted
correcting trajectory with model rm
Search closed orbit
Trajectory correction: nbpms= 50 ncor: 45, 45,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1723.083 -> 454.759 um
Y: 1203.102 -> 437.725 um
Search closed orbit
Trajectory correction: nbpms= 58 ncor: 51, 51,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 776.575 -> 397.712 um
Y: 963.928 -> 338.834 um
Search closed orbit
Trajectory correction: nbpms= 110 ncor: 99, 99,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 862.830 -> 530.513 um
Y: 1266.161 -> 281.008 um
Search closed orbit
Trajectory correction: nbpms= 128 ncor: 114, 114,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1086.855 -> 421.948 um
Y: 473.098 -> 214.934 um
Search closed orbit
Trajectory correction: nbpms= 138 ncor: 123, 123,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1024.509 -> 344.377 um
Y: 433.765 -> 204.199 um
Search closed orbit
Trajectory correction: nbpms= 230 ncor: 207, 207,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1278.590 -> 1101.373 um
Y: 1009.321 -> 734.263 um
Search closed orbit
Trajectory correction: nbpms= 264 ncor: 238, 238,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1800.187 -> 675.509 um
Y: 947.166 -> 634.394 um
Search closed orbit
Trajectory correction: nbpms= 283 ncor: 255, 255,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1234.096 -> 560.807 um
Y: 1022.116 -> 342.873 um
Search closed orbit
Trajectory correction: nbpms= 296 ncor: 266, 266,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1149.596 -> 406.907 um
Y: 536.769 -> 233.103 um
Search closed orbit
Trajectory correction: nbpms= 309 ncor: 277, 277,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1157.545 -> 391.862 um
Y: 386.616 -> 180.877 um
Search closed orbit
Trajectory correction: nbpms= 320 ncor: 287, 287,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 628.332 -> 292.125 um
Y: 215.102 -> 134.673 um
Search closed orbit
f2: 
1.3182e-06  1.4411e-06  8.9513e-07  1.3473e-07  9.8198e-14  6.8144e-09
Sum of f2: 
3.796e-06

                                         Norm of      First-order 
 Iteration  Func-count     f(x)          step          optimality
     0          5     3.79596e-06                       0.00239
     1         10     1.29443e-08     0.00396586       1.43e-07      
     2         15      1.2944e-08    2.67506e-06       4.97e-07      

<a href = "matlab: helpview([docroot '/toolbox/optim/msg_csh/optim_msg_csh.map'],'local_min_possible_lsq','CSHelpWindow');">Local minimum possible</a>.

lsqnonlin stopped because the final change in the sum of squares relative to 
its initial value is less than the selected value of the <a href = "matlab: helpview([docroot '/toolbox/optim/msg_csh/optim_msg_csh.map'],'function_tolerance_lsq','CSHelpWindow');">function tolerance</a>.

<<a href = "matlab: createExitMsg('snls',3.000000e+00,true,true,'lsqnonlin',2.175456e-13,'selected',1.000000e-12,0.000000e+00,'',0.000000e+00,0.000000e+00,'',0.000000e+00);">stopping criteria details</a>>

-----oooooo----oooooo----oooooo----
   
f2: 
4.3362e-13  1.1569e-11  4.8974e-14  9.3888e-17  9.8198e-14  1.2932e-08
Sum of f2: 
1.2944e-08
   
-----oooooo----oooooo----oooooo----
   
Final constraints values:
   
Name          lat_indx      before         after           low            high       min dif before    min dif after  
@(r,~,~)transpose(fi  1   1.149e-03	 5.905e-07	 1.249e-06	 1.249e-06	 1.148e-03	 1.148e-03
@(r,~,~)transpose(fi  2  -1.232e-03	-3.456e-05	-3.116e-05	-3.116e-05	 1.200e-03	 1.200e-03
@(r,~,~)transpose(fi  3   8.857e-04	-6.068e-05	-6.046e-05	-6.046e-05	 9.461e-04	 9.461e-04
@(r,~,~)transpose(fi  4   2.613e-04	-1.058e-04	-1.058e-04	-1.058e-04	 3.671e-04	 3.671e-04
@(r,~,~)transpose(fi  5   3.134e-07	 3.134e-07	 0.000e+00	 0.000e+00	 3.134e-07	 3.134e-07
@(r,~,~)transpose(fi  6  -8.254e-05	-1.137e-04	 4.468e-09	 4.468e-09	 8.255e-05	 8.255e-05
   
-----oooooo----oooooo----oooooo----
    
Final variable values:
   
Name       field          before    after   variation
SI1E       PolynomB     5.6914e-05    0.00337675    0.00331983
SH3E       PolynomB            0    0.00183456    0.00183456
SI1E       PolynomA     -0.000243745    -0.000252768    -9.0228e-06
SH3E       PolynomA            0    -0.00116043    -0.00116043
   
-----oooooo----oooooo----oooooo----
   
Found closed orbit
Correction Step: 2/2
Steerers to fix orbit H  using 200 eig
Steerers to fix orbit V  using 200 eig
 --- reference orbit = 0
Orbit correction iter 1,n-eig: 20, 20,
Orbit correction iter 2,n-eig: 40, 40,
Orbit correction iter 3,n-eig: 60, 60,
Orbit correction iter 4,n-eig: 80, 80,
Orbit correction iter 5,n-eig: 100, 100,
Orbit correction iter 6,n-eig: 120, 120,
Orbit correction iter 7,n-eig: 140, 140,
Orbit correction iter 8,n-eig: 160, 160,
Orbit correction iter 9,n-eig: 180, 180,
Orbit correction iter 10,n-eig: 200, 200,
      before    -->    after
oX: 369.337 -> 240.474um
oY: 590.972 -> 322.196um
    min    mean    max
hs:-0.84   0.00   0.63 mrad
vs:-0.52  -0.00   0.91 mrad
dpp: 0.001593
 --- model lattice data --- 
 --- errors lattice data --- 
{Operation terminated by user during <a href="matlab:matlab.internal.language.introspective.errorDocCallback('atlinopt/analyze', '/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/atlinopt.m', 150)" style="font-weight:bold">atlinopt/analyze</a> (<a href="matlab: opentoline('/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/atlinopt.m',150,0)">line 150</a>)


In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('atlinopt', '/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/atlinopt.m', 91)" style="font-weight:bold">atlinopt</a> (<a href="matlab: opentoline('/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/atlinopt.m',91,0)">line 91</a>)
[MSA,MSB,gamma,CL,AL,BL]=cellfun(@analyze,num2cell(MS,[1 2]),'UniformOutput',false);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('DisplayCorrectionEffect>getdatalattice', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/DisplayCorrectionEffect.m', 141)" style="font-weight:bold">DisplayCorrectionEffect>getdatalattice</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/DisplayCorrectionEffect.m',141,0)">line 141</a>)
[l,t,a.crom]=atlinopt(r0,0,refpts);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('DisplayCorrectionEffect', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/DisplayCorrectionEffect.m', 34)" style="font-weight:bold">DisplayCorrectionEffect</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/DisplayCorrectionEffect.m',34,0)">line 34</a>)
de=getdatalattice(rerr,inCODe,refpts,indHCor,indVCor,indQCor,indSCor,compute_emittances);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('CorrectionChain', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectionChain.m', 921)" style="font-weight:bold">CorrectionChain</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectionChain.m',921,0)">line 921</a>)
    DisplayCorrectionEffect(r0,rerr0,rerr,inCODe,inCOD,1:length(r0),indHCor,indVCor,indQuadCor,indSkewQuadCor);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('CorrectLattice', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectLattice.m', 73)" style="font-weight:bold">CorrectLattice</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectLattice.m',73,0)">line 73</a>)
[rcor]=CorrectionChain(...

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('testorbitaftertrajectory', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/testorbitaftertrajectory.m', 68)" style="font-weight:bold">testorbitaftertrajectory</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/testorbitaftertrajectory.m',68,0)">line 68</a>)
rcor=CorrectLattice(...
} 
testorbitaftertrajectory
corr order  : 0, 1,
corr eig    : 200, 200, 200, 250, 350, 100, 350,
>>>>>  Correction sequence started  <<<<<
     # BPM  : 320
     # V cor: 288
     # H cor: 288
     # S cor: 288
     # Q cor: 514
>>>>>  --------------------------  <<<<<
 --- - - - - - - - - - - - - - - - - - - ---
 ---                                     ---
 --- FAST MODE: MODEL RM ARE BEING USED! ---
 ---                                     ---
 --- - - - - - - - - - - - - - - - - - - ---
>>>>>      Correction STRATEGY :       <<<<<
.
          open trajectory (steerers)
          orbit (steerers) 
.
>>>>>  --------------------------  <<<<<
Correction Step: 1/2
Open Trajectory Correction started. 5mm escursion accepted
correcting trajectory with model rm
Search closed orbit
Trajectory correction: nbpms= 149 ncor: 133, 133,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 2761.503 -> 2347.665 um
Y: 1550.795 -> 1150.748 um
Search closed orbit
Trajectory correction: nbpms= 141 ncor: 126, 126,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 2401.156 -> 830.704 um
Y: 1136.796 -> 661.039 um
Search closed orbit
Trajectory correction: nbpms= 156 ncor: 140, 140,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1167.749 -> 490.714 um
Y: 860.003 -> 388.680 um
Search closed orbit
Trajectory correction: nbpms= 160 ncor: 144, 144,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 581.148 -> 322.362 um
Y: 664.374 -> 228.037 um
Search closed orbit
Trajectory correction: nbpms= 240 ncor: 216, 216,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 2301.760 -> 1294.690 um
Y: 1108.516 -> 723.112 um
Search closed orbit
Trajectory correction: nbpms= 251 ncor: 225, 225,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1534.179 -> 779.131 um
Y: 774.845 -> 359.944 um
Search closed orbit
Trajectory correction: nbpms= 259 ncor: 232, 232,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 888.668 -> 406.976 um
Y: 524.127 -> 263.195 um
Search closed orbit
Trajectory correction: nbpms= 278 ncor: 249, 249,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 473.832 -> 287.769 um
Y: 775.759 -> 255.799 um
Search closed orbit
Trajectory correction: nbpms= 318 ncor: 285, 285,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1232.790 -> 509.023 um
Y: 768.517 -> 697.364 um
Search closed orbit
Trajectory correction: nbpms= 320 ncor: 287, 287,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 558.480 -> 335.218 um
Y: 737.931 -> 317.684 um
Search closed orbit
f2: 
1.104e-06  1.0142e-06  1.6142e-07  7.5239e-08  2.5294e-14  2.6054e-08
Sum of f2: 
2.3809e-06

                                         Norm of      First-order 
 Iteration  Func-count     f(x)          step          optimality
     0          5      2.3809e-06                       0.00111
     1         10      3.3614e-08     0.00664201       1.89e-07      
     2         15     3.36126e-08    4.83115e-05       2.06e-10      
     3         20     3.36126e-08    3.78891e-07       6.13e-12      

<a href = "matlab: helpview([docroot '/toolbox/optim/msg_csh/optim_msg_csh.map'],'local_min_possible_lsq','CSHelpWindow');">Local minimum possible</a>.

lsqnonlin stopped because the final change in the sum of squares relative to 
its initial value is less than the selected value of the <a href = "matlab: helpview([docroot '/toolbox/optim/msg_csh/optim_msg_csh.map'],'function_tolerance_lsq','CSHelpWindow');">function tolerance</a>.

<<a href = "matlab: createExitMsg('snls',3.000000e+00,true,true,'lsqnonlin',6.762899e-17,'selected',1.000000e-16,0.000000e+00,'',0.000000e+00,0.000000e+00,'',0.000000e+00);">stopping criteria details</a>>

-----oooooo----oooooo----oooooo----
   
f2: 
1.0687e-12  2.8505e-11  3.3237e-14  2.0918e-13  2.5294e-14  3.3583e-08
Sum of f2: 
3.3613e-08
   
-----oooooo----oooooo----oooooo----
   
Final constraints values:
   
Name          lat_indx      before         after           low            high       min dif before    min dif after  
@(r,~,~)transpose(fi  1  -1.053e-03	-1.079e-06	-2.113e-06	-2.113e-06	 1.051e-03	 1.051e-03
@(r,~,~)transpose(fi  2   9.534e-04	-4.836e-05	-5.370e-05	-5.370e-05	 1.007e-03	 1.007e-03
@(r,~,~)transpose(fi  3  -4.613e-04	-5.933e-05	-5.951e-05	-5.951e-05	 4.018e-04	 4.018e-04
@(r,~,~)transpose(fi  4  -3.104e-04	-3.660e-05	-3.614e-05	-3.614e-05	 2.743e-04	 2.743e-04
@(r,~,~)transpose(fi  5  -1.590e-07	-1.590e-07	 0.000e+00	 0.000e+00	 1.590e-07	 1.590e-07
@(r,~,~)transpose(fi  6   1.614e-04	 1.833e-04	 3.257e-09	 3.257e-09	 1.614e-04	 1.614e-04
   
-----oooooo----oooooo----oooooo----
    
Final variable values:
   
Name       field          before    after   variation
SI1E       PolynomB     -0.00034239    -0.00305481    -0.00271242
SH3E       PolynomB            0    -0.00195652    -0.00195652
SI1E       PolynomA     0.000184872    -0.0015762    -0.00176108
SH3E       PolynomA            0    0.00541105    0.00541105
   
-----oooooo----oooooo----oooooo----
   
Found closed orbit
Correction Step: 2/2
Steerers to fix orbit H  using 200 eig
Steerers to fix orbit V  using 200 eig
 --- reference orbit = 0
Orbit correction iter 1,n-eig: 20, 20,
Orbit correction iter 2,n-eig: 40, 40,
Orbit correction iter 3,n-eig: 60, 60,
Orbit correction iter 4,n-eig: 80, 80,
Orbit correction iter 5,n-eig: 100, 100,
Orbit correction iter 6,n-eig: 120, 120,
Orbit correction iter 7,n-eig: 140, 140,
Orbit correction iter 8,n-eig: 160, 160,
Orbit correction iter 9,n-eig: 180, 180,
Orbit correction iter 10,n-eig: 200, 200,
      before    -->    after
oX: 322.831 -> 263.916um
oY: 608.655 -> 362.286um
    min    mean    max
hs:-0.72  -0.00   0.96 mrad
vs:-0.45   0.00   0.53 mrad
dpp: -0.0025811
 --- model lattice data --- 
{Operation terminated by user during <a href="matlab:matlab.internal.language.introspective.errorDocCallback('ohmienvelope', '/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/ohmienvelope.m', 42)" style="font-weight:bold">ohmienvelope</a> (<a href="matlab: opentoline('/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/ohmienvelope.m',42,0)">line 42</a>)


In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('atx/atx2', '/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/atx.m', 143)" style="font-weight:bold">atx/atx2</a> (<a href="matlab: opentoline('/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/atx.m',143,0)">line 143</a>)
                [envelope,espread,blength,m,T]=ohmienvelope(ring2,radindex,refpts);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('atx', '/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/atx.m', 73)" style="font-weight:bold">atx</a> (<a href="matlab: opentoline('/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/atx.m',73,0)">line 73</a>)
[varargout{1:nargout}]=atx2(ring(:,1),energy,periods,voltage,eloss,varargin{:});

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('DisplayCorrectionEffect>getdatalattice', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/DisplayCorrectionEffect.m', 129)" style="font-weight:bold">DisplayCorrectionEffect>getdatalattice</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/DisplayCorrectionEffect.m',129,0)">line 129</a>)
        [~,b0]=atx(r0,0,1:length(r0));

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('DisplayCorrectionEffect', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/DisplayCorrectionEffect.m', 31)" style="font-weight:bold">DisplayCorrectionEffect</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/DisplayCorrectionEffect.m',31,0)">line 31</a>)
d0=getdatalattice(r0,inCODe*0,refpts,indHCor,indVCor,indQCor,indSCor,compute_emittances);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('CorrectionChain', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectionChain.m', 921)" style="font-weight:bold">CorrectionChain</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectionChain.m',921,0)">line 921</a>)
    DisplayCorrectionEffect(r0,rerr0,rerr,inCODe,inCOD,1:length(r0),indHCor,indVCor,indQuadCor,indSkewQuadCor);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('CorrectLattice', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectLattice.m', 73)" style="font-weight:bold">CorrectLattice</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectLattice.m',73,0)">line 73</a>)
[rcor]=CorrectionChain(...

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('testorbitaftertrajectory', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/testorbitaftertrajectory.m', 68)" style="font-weight:bold">testorbitaftertrajectory</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/testorbitaftertrajectory.m',68,0)">line 68</a>)
rcor=CorrectLattice(...
} 



testorbitaftertrajectory
corr order  : 0, 1,
corr eig    : 200, 200, 200, 250, 350, 100, 350,
>>>>>  Correction sequence started  <<<<<
     # BPM  : 320
     # V cor: 288
     # H cor: 288
     # S cor: 288
     # Q cor: 514
>>>>>  --------------------------  <<<<<
 --- - - - - - - - - - - - - - - - - - - ---
 ---                                     ---
 --- FAST MODE: MODEL RM ARE BEING USED! ---
 ---                                     ---
 --- - - - - - - - - - - - - - - - - - - ---
>>>>>      Correction STRATEGY :       <<<<<
.
          open trajectory (steerers)
          orbit (steerers) 
.
>>>>>  --------------------------  <<<<<
Correction Step: 1/2
Open Trajectory Correction started. 5mm escursion accepted
correcting trajectory with model rm
Search closed orbit
Trajectory correction: nbpms= 78 ncor: 69, 69,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1824.171 -> 782.783 um
Y: 1410.583 -> 1150.218 um
Search closed orbit
Trajectory correction: nbpms= 90 ncor: 81, 81,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 849.785 -> 419.946 um
Y: 1549.767 -> 476.321 um
Search closed orbit
Trajectory correction: nbpms= 110 ncor: 99, 99,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 553.342 -> 277.416 um
Y: 802.416 -> 254.944 um
Search closed orbit
Trajectory correction: nbpms= 150 ncor: 135, 135,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 691.626 -> 462.385 um
Y: 976.168 -> 512.800 um
Search closed orbit
Trajectory correction: nbpms= 168 ncor: 150, 150,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 515.071 -> 338.650 um
Y: 981.503 -> 299.012 um
Search closed orbit
Trajectory correction: nbpms= 205 ncor: 185, 185,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1459.720 -> 777.861 um
Y: 977.121 -> 577.223 um
Search closed orbit
Trajectory correction: nbpms= 239 ncor: 214, 214,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1729.367 -> 583.139 um
Y: 962.492 -> 715.091 um
Search closed orbit
Trajectory correction: nbpms= 296 ncor: 266, 266,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1529.101 -> 913.709 um
Y: 1441.890 -> 452.106 um
Search closed orbit
Trajectory correction: nbpms= 317 ncor: 284, 284,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1181.915 -> 595.571 um
Y: 871.510 -> 220.734 um
Search closed orbit
Trajectory correction: nbpms= 320 ncor: 287, 287,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 649.719 -> 312.690 um
Y: 334.857 -> 114.819 um
Search closed orbit
f2: 
6.5459e-07  3.3672e-07  2.3713e-07  1.9815e-08  9.2891e-16  1.9972e-08
Sum of f2: 
1.2682e-06

                                         Norm of      First-order 
 Iteration  Func-count     f(x)          step          optimality
     0          5     1.26822e-06                       0.00119
     1         10     1.64269e-08     0.00297499       1.01e-07      
     2         15     1.64268e-08    8.13537e-06       2.44e-11      
     3         20     1.64268e-08    5.55569e-08       3.41e-12      

<a href = "matlab: helpview([docroot '/toolbox/optim/msg_csh/optim_msg_csh.map'],'local_min_possible_lsq','CSHelpWindow');">Local minimum possible</a>.

lsqnonlin stopped because the final change in the sum of squares relative to 
its initial value is less than the selected value of the <a href = "matlab: helpview([docroot '/toolbox/optim/msg_csh/optim_msg_csh.map'],'function_tolerance_lsq','CSHelpWindow');">function tolerance</a>.

<<a href = "matlab: createExitMsg('snls',3.000000e+00,true,true,'lsqnonlin',1.333842e-18,'selected',1.000000e-16,0.000000e+00,'',0.000000e+00,0.000000e+00,'',0.000000e+00);">stopping criteria details</a>>

-----oooooo----oooooo----oooooo----
   
f2: 
5.4849e-13  1.4634e-11  7.6074e-16  4.1223e-15  9.2891e-16  1.6412e-08
Sum of f2: 
1.6427e-08
   
-----oooooo----oooooo----oooooo----
   
Final constraints values:
   
Name          lat_indx      before         after           low            high       min dif before    min dif after  
@(r,~,~)transpose(fi  1   7.800e-04	-2.832e-05	-2.906e-05	-2.906e-05	 8.091e-04	 8.091e-04
@(r,~,~)transpose(fi  2  -6.035e-04	-1.936e-05	-2.318e-05	-2.318e-05	 5.803e-04	 5.803e-04
@(r,~,~)transpose(fi  3   4.378e-04	-4.913e-05	-4.916e-05	-4.916e-05	 4.870e-04	 4.870e-04
@(r,~,~)transpose(fi  4   7.234e-05	-6.849e-05	-6.843e-05	-6.843e-05	 1.408e-04	 1.408e-04
@(r,~,~)transpose(fi  5   3.048e-08	 3.048e-08	 0.000e+00	 0.000e+00	 3.048e-08	 3.048e-08
@(r,~,~)transpose(fi  6   1.413e-04	 1.281e-04	 1.890e-09	 1.890e-09	 1.413e-04	 1.413e-04
   
-----oooooo----oooooo----oooooo----
    
Final variable values:
   
Name       field          before    after   variation
SI1E       PolynomB     0.000622908    0.00207894    0.00145603
SH3E       PolynomB            0    0.00204977    0.00204977
SI1E       PolynomA     0.000197156    -0.000528555    -0.00072571
SH3E       PolynomA            0    0.00140616    0.00140616
   
-----oooooo----oooooo----oooooo----
   
Found closed orbit
X: 293.225 -> 293.225 um
Y: 249.457 -> 249.457 um
Correction Step: 2/2
Steerers to fix orbit H  using 200 eig
Steerers to fix orbit V  using 200 eig
 --- reference orbit = 0
Orbit correction iter 1,n-eig: 20, 20,
Orbit correction iter 2,n-eig: 40, 40,
Orbit correction iter 3,n-eig: 60, 60,
Orbit correction iter 4,n-eig: 80, 80,
Orbit correction iter 5,n-eig: 100, 100,
Orbit correction iter 6,n-eig: 120, 120,
Orbit correction iter 7,n-eig: 140, 140,
Orbit correction iter 8,n-eig: 160, 160,
Orbit correction iter 9,n-eig: 180, 180,
Orbit correction iter 10,n-eig: 200, 200,
      before    -->    after
oX: 300.664 -> 238.836um
oY: 246.718 -> 157.387um
    min    mean    max
hs:-0.73   0.00   0.75 mrad
vs:-0.44   0.00   0.56 mrad
dpp: -0.0017926
 --- model lattice data --- 
{Operation terminated by user during <a href="matlab:matlab.internal.language.introspective.errorDocCallback('amat', '/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/amat.m', 31)" style="font-weight:bold">amat</a> (<a href="matlab: opentoline('/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/amat.m',31,0)">line 31</a>)


In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('atx/atx2/process', '/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/atx.m', 230)" style="font-weight:bold">atx/atx2/process</a> (<a href="matlab: opentoline('/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/atx.m',230,0)">line 230</a>)
            aa=amat(T*m*jmt'*T'*jmt);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('atx/atx2', '/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/atx.m', 149)" style="font-weight:bold">atx/atx2</a> (<a href="matlab: opentoline('/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/atx.m',149,0)">line 149</a>)
                    lindata=cellfun(@process,{envelope.R},reshape(num2cell(T,[1 2]),1,[]),num2cell(lindata));

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('atx', '/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/atx.m', 73)" style="font-weight:bold">atx</a> (<a href="matlab: opentoline('/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/atx.m',73,0)">line 73</a>)
[varargout{1:nargout}]=atx2(ring(:,1),energy,periods,voltage,eloss,varargin{:});

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('DisplayCorrectionEffect>getdatalattice', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/DisplayCorrectionEffect.m', 129)" style="font-weight:bold">DisplayCorrectionEffect>getdatalattice</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/DisplayCorrectionEffect.m',129,0)">line 129</a>)
        [~,b0]=atx(r0,0,1:length(r0));

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('DisplayCorrectionEffect', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/DisplayCorrectionEffect.m', 31)" style="font-weight:bold">DisplayCorrectionEffect</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/DisplayCorrectionEffect.m',31,0)">line 31</a>)
d0=getdatalattice(r0,inCODe*0,refpts,indHCor,indVCor,indQCor,indSCor,compute_emittances);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('CorrectionChain', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectionChain.m', 921)" style="font-weight:bold">CorrectionChain</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectionChain.m',921,0)">line 921</a>)
    DisplayCorrectionEffect(r0,rerr0,rerr,inCODe,inCOD,1:length(r0),indHCor,indVCor,indQuadCor,indSkewQuadCor);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('CorrectLattice', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectLattice.m', 73)" style="font-weight:bold">CorrectLattice</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectLattice.m',73,0)">line 73</a>)
[rcor]=CorrectionChain(...

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('testorbitaftertrajectory', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/testorbitaftertrajectory.m', 68)" style="font-weight:bold">testorbitaftertrajectory</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/testorbitaftertrajectory.m',68,0)">line 68</a>)
rcor=CorrectLattice(...
} 

testorbitaftertrajectory
corr order  : 0, 1,
corr eig    : 200, 200, 200, 250, 350, 100, 350,
>>>>>  Correction sequence started  <<<<<
     # BPM  : 320
     # V cor: 288
     # H cor: 288
     # S cor: 288
     # Q cor: 514
>>>>>  --------------------------  <<<<<
 --- - - - - - - - - - - - - - - - - - - ---
 ---                                     ---
 --- FAST MODE: MODEL RM ARE BEING USED! ---
 ---                                     ---
 --- - - - - - - - - - - - - - - - - - - ---
>>>>>      Correction STRATEGY :       <<<<<
.
          open trajectory (steerers)
          orbit (steerers) 
.
>>>>>  --------------------------  <<<<<
Correction Step: 1/2
Open Trajectory Correction started. 5mm escursion accepted
correcting trajectory with model rm
Search closed orbit
Trajectory correction: nbpms= 39 ncor: 34, 34,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1044.578 -> 832.363 um
Y: 2403.330 -> 913.666 um
Search closed orbit
Trajectory correction: nbpms= 204 ncor: 184, 184,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1916.829 -> 3353.095 um
Y: 1601.404 -> 1506.060 um
Search closed orbit
Trajectory correction: nbpms= 187 ncor: 167, 167,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 3291.215 -> 1218.410 um
Y: 1359.532 -> 737.721 um
Search closed orbit
Trajectory correction: nbpms= 230 ncor: 207, 207,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1364.512 -> 584.040 um
Y: 990.181 -> 342.895 um
Search closed orbit
Trajectory correction: nbpms= 276 ncor: 248, 248,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1046.177 -> 394.746 um
Y: 1127.293 -> 410.351 um
Search closed orbit
Trajectory correction: nbpms= 310 ncor: 279, 279,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1132.417 -> 493.676 um
Y: 1159.470 -> 468.442 um
Search closed orbit
Trajectory correction: nbpms= 320 ncor: 287, 287,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 617.925 -> 255.447 um
Y: 543.437 -> 277.228 um
Search closed orbit
f2: 
7.5253e-08  7.8398e-08  6.2481e-07  1.4754e-07  8.3878e-16  1.8235e-11
Sum of f2: 
9.2603e-07

                                         Norm of      First-order 
 Iteration  Func-count     f(x)          step          optimality
     0          5     9.26026e-07                       0.00205
     1         10     4.78466e-12     0.00444842       4.64e-08      
     2         15     4.78406e-12    4.20223e-07       2.63e-11      
     3         20     4.78406e-12    9.54225e-08       2.63e-11      
     4         25     4.78406e-12    2.38556e-08       2.63e-11      
     5         30     4.78406e-12    5.96391e-09       2.63e-11      
     6         35     4.78406e-12    1.49098e-09       2.63e-11      
     7         40     4.78406e-12    3.72744e-10       2.63e-11      
     8         45     4.78406e-12     9.3186e-11       2.63e-11      
     9         50     4.78406e-12    2.32965e-11       2.63e-11      
    10         55     4.78406e-12    5.82413e-12       2.63e-11      
    11         60     4.78406e-12    1.45603e-12       2.63e-11      
    12         65     4.78406e-12    3.64008e-13       2.63e-11      
    13         70     4.78406e-12     9.1002e-14       2.63e-11      
{Operation terminated by user during <a href="matlab:matlab.internal.language.introspective.errorDocCallback('linepass', '/users/liuzzo/ATcode/atcollab-code-0/atmat/attrack/linepass.m', 94)" style="font-weight:bold">linepass</a> (<a href="matlab: opentoline('/users/liuzzo/ATcode/atcollab-code-0/atmat/attrack/linepass.m',94,0)">line 94</a>)


In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('findm44', '/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/findm44.m', 119)" style="font-weight:bold">findm44</a> (<a href="matlab: opentoline('/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/findm44.m',119,0)">line 119</a>)
ROUT = linepass(LATTICE,RIN,refs);


In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('twissline', '/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/twissline.m', 137)" style="font-weight:bold">twissline</a> (<a href="matlab: opentoline('/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/twissline.m',137,0)">line 137</a>)
[M44, MS, orb] = findm44(LINE,DP,REFPTS,R0);


In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('twissline', '/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/twissline.m', 163)" style="font-weight:bold">twissline</a> (<a href="matlab: opentoline('/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/twissline.m',163,0)">line 163</a>)
    TD_DDP = twissline(LINE,DP+DDP,TWISSDATAIN_DDP,REFPTS);


In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('atEvaluateConstraints', '/users/liuzzo/ATcode/atcollab-code-0/atmat/atmatch/atEvaluateConstraints.m', 43)" style="font-weight:bold">atEvaluateConstraints</a> (<a href="matlab: opentoline('/users/liuzzo/ATcode/atcollab-code-0/atmat/atmatch/atEvaluateConstraints.m',43,0)">line 43</a>)
        [lindatadpm]=twissline(R,-dpp,twissin,posarray,'chrom');

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('atmatch/evalvector', '/users/liuzzo/ATcode/atcollab-code-0/atmat/atmatch/atmatch.m', 209)" style="font-weight:bold">atmatch/evalvector</a> (<a href="matlab: opentoline('/users/liuzzo/ATcode/atcollab-code-0/atmat/atmatch/atmatch.m',209,0)">line 209</a>)
        cstr=atEvaluateConstraints(R,e,posarray,indinposarray,twissin);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('atmatch>@(d)evalvector(Ring,Variables,Constraints,splitvar(d),evalfunc,posarray,indinposarray,twissin)', '/users/liuzzo/ATcode/atcollab-code-0/atmat/atmatch/atmatch.m', 149)" style="font-weight:bold">atmatch>@(d)evalvector(Ring,Variables,Constraints,splitvar(d),evalfunc,posarray,indinposarray,twissin)</a> (<a href="matlab: opentoline('/users/liuzzo/ATcode/atcollab-code-0/atmat/atmatch/atmatch.m',149,0)">line 149</a>)
        f = @(d) evalvector(Ring,Variables,Constraints,splitvar(d),...

In finDiffEvalAndChkErr

In finitedifferences

In computeFinDiffGradAndJac

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('sfdnls', '/mntdirect/_sware/com/matlab_2016a/toolbox/shared/optimlib/sfdnls.m', 97)" style="font-weight:bold">sfdnls</a> (<a href="matlab: opentoline('/mntdirect/_sware/com/matlab_2016a/toolbox/shared/optimlib/sfdnls.m',97,0)">line 97</a>)
        computeFinDiffGradAndJac(x,funfcn,confcn,valx, ...

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('snls', '/mntdirect/_sware/com/matlab_2016a/toolbox/shared/optimlib/snls.p', 342)" style="font-weight:bold">snls</a> (<a href="matlab: opentoline('/mntdirect/_sware/com/matlab_2016a/toolbox/shared/optimlib/snls.p',342,0)">line 342</a>)
         [newA, findiffevals] = sfdnls(xcurr,newfvec,Jstr,group,[], ...

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('lsqncommon', '/mntdirect/_sware/com/matlab_2016a/toolbox/shared/optimlib/lsqncommon.m', 166)" style="font-weight:bold">lsqncommon</a> (<a href="matlab: opentoline('/mntdirect/_sware/com/matlab_2016a/toolbox/shared/optimlib/lsqncommon.m',166,0)">line 166</a>)
            snls(funfcn,xC,lb,ub,flags.verbosity,options,defaultopt,initVals.F,initVals.J,caller, ...

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('lsqnonlin', '/mntdirect/_sware/com/matlab_2016a/toolbox/optim/optim/lsqnonlin.m', 240)" style="font-weight:bold">lsqnonlin</a> (<a href="matlab: opentoline('/mntdirect/_sware/com/matlab_2016a/toolbox/optim/optim/lsqnonlin.m',240,0)">line 240</a>)
   lsqncommon(funfcn,xCurrent,lb,ub,options,defaultopt,caller,...

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('atmatch', '/users/liuzzo/ATcode/atcollab-code-0/atmat/atmatch/atmatch.m', 173)" style="font-weight:bold">atmatch</a> (<a href="matlab: opentoline('/users/liuzzo/ATcode/atcollab-code-0/atmat/atmatch/atmatch.m',173,0)">line 173</a>)
    dmin=minimizer(f,args{:},options); % wants  a scalar

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('MatchLast2CorForFirstBPM', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/MatchLast2CorForFirstBPM.m', 39)" style="font-weight:bold">MatchLast2CorForFirstBPM</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/MatchLast2CorForFirstBPM.m',39,0)">line 39</a>)
[rmatch]=atmatch(...

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('atfirstturntrajectory', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/atfirstturntrajectory.m', 179)" style="font-weight:bold">atfirstturntrajectory</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/atfirstturntrajectory.m',179,0)">line 179</a>)
        ropen=MatchLast2CorForFirstBPM(ropen, inCOD);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('CorrectionChain', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectionChain.m', 209)" style="font-weight:bold">CorrectionChain</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectionChain.m',209,0)">line 209</a>)
                rerr,...

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('CorrectLattice', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectLattice.m', 73)" style="font-weight:bold">CorrectLattice</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectLattice.m',73,0)">line 73</a>)
[rcor]=CorrectionChain(...

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('testorbitaftertrajectory', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/testorbitaftertrajectory.m', 68)" style="font-weight:bold">testorbitaftertrajectory</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/testorbitaftertrajectory.m',68,0)">line 68</a>)
rcor=CorrectLattice(...
} 


testorbitaftertrajectory
corr order  : 0, 1,
corr eig    : 200, 200, 200, 250, 350, 100, 350,
>>>>>  Correction sequence started  <<<<<
     # BPM  : 320
     # V cor: 288
     # H cor: 288
     # S cor: 288
     # Q cor: 514
>>>>>  --------------------------  <<<<<
 --- - - - - - - - - - - - - - - - - - - ---
 ---                                     ---
 --- FAST MODE: MODEL RM ARE BEING USED! ---
 ---                                     ---
 --- - - - - - - - - - - - - - - - - - - ---
>>>>>      Correction STRATEGY :       <<<<<
.
          open trajectory (steerers)
          orbit (steerers) 
.
>>>>>  --------------------------  <<<<<
Correction Step: 1/2
Open Trajectory Correction started. 5mm escursion accepted
correcting trajectory with model rm
Search closed orbit
Trajectory correction: nbpms= 63 ncor: 57, 57,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 3785.837 -> 1019.802 um
Y: 1857.222 -> 718.726 um
Search closed orbit
Trajectory correction: nbpms= 89 ncor: 79, 79,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1195.113 -> 575.440 um
Y: 1238.943 -> 532.205 um
Search closed orbit
Trajectory correction: nbpms= 143 ncor: 129, 129,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 3111.158 -> 658.602 um
Y: 1815.019 -> 929.485 um
Search closed orbit
Trajectory correction: nbpms= 164 ncor: 148, 148,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1723.961 -> 714.353 um
Y: 1086.095 -> 335.289 um
Search closed orbit
Trajectory correction: nbpms= 178 ncor: 159, 159,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1414.570 -> 603.778 um
Y: 339.579 -> 171.221 um
Search closed orbit
Trajectory correction: nbpms= 209 ncor: 187, 187,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 814.782 -> 362.596 um
Y: 704.804 -> 278.078 um
Search closed orbit
Trajectory correction: nbpms= 210 ncor: 189, 189,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 419.320 -> 272.741 um
Y: 278.198 -> 126.119 um
Search closed orbit
Trajectory correction: nbpms= 249 ncor: 223, 223,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 971.365 -> 390.292 um
Y: 791.201 -> 406.998 um
Search closed orbit
Trajectory correction: nbpms= 260 ncor: 234, 234,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 528.207 -> 267.467 um
Y: 579.936 -> 200.096 um
Search closed orbit
Trajectory correction: nbpms= 314 ncor: 283, 283,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1343.046 -> 478.671 um
Y: 939.839 -> 577.863 um
Search closed orbit
Trajectory correction: nbpms= 320 ncor: 287, 287,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 497.459 -> 276.311 um
Y: 636.245 -> 295.656 um
Search closed orbit
f2: 
1.5692e-08  6.0827e-08   3.648e-06  5.5662e-07  6.6205e-15  3.1166e-08
Sum of f2: 
4.3123e-06

                                         Norm of      First-order 
 Iteration  Func-count     f(x)          step          optimality
     0          5     4.31235e-06                       0.00482
     1         10     3.32842e-08     0.00268026       2.28e-07      
     2         15     3.32838e-08    2.55241e-05       1.33e-10      

<a href = "matlab: helpview([docroot '/toolbox/optim/msg_csh/optim_msg_csh.map'],'local_min_possible_lsq','CSHelpWindow');">Local minimum possible</a>.

lsqnonlin stopped because the final change in the sum of squares relative to 
its initial value is less than the selected value of the <a href = "matlab: helpview([docroot '/toolbox/optim/msg_csh/optim_msg_csh.map'],'function_tolerance_lsq','CSHelpWindow');">function tolerance</a>.

<<a href = "matlab: createExitMsg('snls',3.000000e+00,true,true,'lsqnonlin',3.290633e-13,'selected',1.000000e-12,0.000000e+00,'',0.000000e+00,0.000000e+00,'',0.000000e+00);">stopping criteria details</a>>

-----oooooo----oooooo----oooooo----
   
f2: 
1.0905e-12  2.9027e-11  8.8694e-15  5.5933e-14  6.6205e-15  3.3254e-08
Sum of f2: 
3.3284e-08
   
-----oooooo----oooooo----oooooo----
   
Final constraints values:
   
Name          lat_indx      before         after           low            high       min dif before    min dif after  
@(r,~,~)transpose(fi  1  -1.587e-04	-3.235e-05	-3.339e-05	-3.339e-05	 1.253e-04	 1.253e-04
@(r,~,~)transpose(fi  2   2.124e-04	-2.889e-05	-3.428e-05	-3.428e-05	 2.466e-04	 2.466e-04
@(r,~,~)transpose(fi  3   1.932e-03	 2.230e-05	 2.240e-05	 2.240e-05	 1.910e-03	 1.910e-03
@(r,~,~)transpose(fi  4   7.588e-04	 1.296e-05	 1.273e-05	 1.273e-05	 7.461e-04	 7.461e-04
@(r,~,~)transpose(fi  5  -8.137e-08	-8.137e-08	 0.000e+00	 0.000e+00	 8.137e-08	 8.137e-08
@(r,~,~)transpose(fi  6   1.765e-04	 1.824e-04	 6.875e-10	 6.875e-10	 1.765e-04	 1.765e-04
   
-----oooooo----oooooo----oooooo----
    
Final variable values:
   
Name       field          before    after   variation
SI1E       PolynomB     -3.7539e-05    -0.00077552    -0.000737981
SH3E       PolynomB            0    0.000120483    0.000120483
SI1E       PolynomA     -0.000289116    -0.00023636    5.27561e-05
SH3E       PolynomA            0    -0.00254892    -0.00254892
   
-----oooooo----oooooo----oooooo----
   
Found closed orbit
X: 258.683 -> 258.683 um
Y: 477.443 -> 477.443 um
Correction Step: 2/2
Steerers to fix orbit H  using 200 eig
Steerers to fix orbit V  using 200 eig
 --- reference orbit = 0
Orbit correction iter 1,n-eig: 20, 20,
Orbit correction iter 2,n-eig: 40, 40,
Orbit correction iter 3,n-eig: 60, 60,
Orbit correction iter 4,n-eig: 80, 80,
Orbit correction iter 5,n-eig: 100, 100,
Orbit correction iter 6,n-eig: 120, 120,
Orbit correction iter 7,n-eig: 140, 140,
Orbit correction iter 8,n-eig: 160, 160,
Orbit correction iter 9,n-eig: 180, 180,
Orbit correction iter 10,n-eig: 200, 200,
      before    -->    after
oX: 293.227 -> 230.223um
oY: 485.207 -> 294.089um
    min    mean    max
hs:-0.68   0.00   0.61 mrad
vs:-0.63   0.00   0.42 mrad
dpp: -0.0025477
 --- model lattice data --- 
 --- errors lattice data --- 
 --- corrected lattice data --- 
--------------------------------------------------
------ total std corrector values applyed --------
------                                    --------
       HK (288) [1/m]: 1.46e-03 -> 1.46e-03
       VK (288) [1/m]: 9.27e-04 -> 9.19e-04
       SK (288) [1/m2]: 0.00e+00 -> 0.00e+00
       QK (514) [1/m2]: 0.00e+00 -> 0.00e+00
------                                    --------
------    residual orbit and dispersion   --------
------                                    --------
       OH (3987) [m]: 2.67e-04 -> 2.15e-04
       OV (3987) [m]: 5.32e-04 -> 3.17e-04
       DH (3987) [m]: 2.32e-02 -> 2.11e-02
       DV (3987) [m]:3.56e-02 -> 3.94e-02
       BBH (3987) %: 16.9 -> 19.7
       BBV (3987) %: 8.7 -> 8.7
       PhH (3987) : 1.48e-01 -> 1.61e-01
       PhV (3987) : 1.60e-01 -> 1.66e-01
------                                    --------
------        tune and emittance          --------
------                                    --------
       Qx [76.210]: 76.154 -> 76.151
       Qy [27.340]: 27.265 -> 27.261
       Cx [6.000]: 4.816 -> 5.585
       Cy [4.000]: 3.311 -> 4.122
       EX [132.111 pm]: 347.878 -> 340.790
       EY [0.000pm]: 274.647 -> 287.524
------                                    --------
--------------------------------------------------
Elapsed time is 38.806294 seconds.
corr order  : 0, 1,
corr eig    : 200, 200, 200, 250, 350, 100, 350,
>>>>>  Correction sequence started  <<<<<
     # BPM  : 320
     # V cor: 288
     # H cor: 288
     # S cor: 288
     # Q cor: 514
>>>>>  --------------------------  <<<<<
 --- - - - - - - - - - - - - - - - - - - ---
 ---                                     ---
 --- FAST MODE: MODEL RM ARE BEING USED! ---
 ---                                     ---
 --- - - - - - - - - - - - - - - - - - - ---
>>>>>      Correction STRATEGY :       <<<<<
.
          open trajectory (steerers)
          orbit (steerers) 
.
>>>>>  --------------------------  <<<<<
Correction Step: 1/2
Open Trajectory Correction started. 5mm escursion accepted
correcting trajectory with model rm
Search closed orbit
Trajectory correction: nbpms= 50 ncor: 45, 45,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1771.111 -> 700.643 um
Y: 1749.247 -> 728.786 um
Search closed orbit
Trajectory correction: nbpms= 70 ncor: 63, 63,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 920.086 -> 408.079 um
Y: 1028.387 -> 327.077 um
Search closed orbit
Trajectory correction: nbpms= 130 ncor: 117, 117,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1896.525 -> 736.200 um
Y: 1181.886 -> 861.796 um
Search closed orbit
Trajectory correction: nbpms= 130 ncor: 117, 117,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 736.200 -> 367.148 um
Y: 861.796 -> 444.626 um
Search closed orbit
Trajectory correction: nbpms= 138 ncor: 123, 123,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 370.361 -> 283.609 um
Y: 825.889 -> 304.204 um
Search closed orbit
Trajectory correction: nbpms= 211 ncor: 189, 189,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1844.828 -> 744.550 um
Y: 921.430 -> 520.227 um
Search closed orbit
Trajectory correction: nbpms= 219 ncor: 196, 196,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 874.418 -> 402.274 um
Y: 602.746 -> 239.350 um
Search closed orbit
Trajectory correction: nbpms= 236 ncor: 212, 212,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1013.005 -> 382.477 um
Y: 1038.338 -> 271.754 um
Search closed orbit
Trajectory correction: nbpms= 260 ncor: 234, 234,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1142.744 -> 463.504 um
Y: 771.742 -> 247.711 um
Search closed orbit
Trajectory correction: nbpms= 280 ncor: 252, 252,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 532.059 -> 269.813 um
Y: 535.232 -> 183.962 um
Search closed orbit
Trajectory correction: nbpms= 315 ncor: 284, 284,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1172.190 -> 400.897 um
Y: 589.692 -> 211.145 um
Search closed orbit
Trajectory correction: nbpms= 320 ncor: 287, 287,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 473.118 -> 218.369 um
Y: 242.368 -> 110.627 um
Search closed orbit
f2: 
8.0674e-14  1.7109e-07  1.6227e-06  2.2157e-07  8.0094e-14   1.615e-09
Sum of f2: 
2.017e-06

                                         Norm of      First-order 
 Iteration  Func-count     f(x)          step          optimality
     0          5     2.01703e-06                       0.00319
     1         10     2.70158e-09     0.00197972       2.25e-07      
     2         15     2.70155e-09    4.70647e-06        4.7e-09      

<a href = "matlab: helpview([docroot '/toolbox/optim/msg_csh/optim_msg_csh.map'],'local_min_possible_lsq','CSHelpWindow');">Local minimum possible</a>.

lsqnonlin stopped because the final change in the sum of squares relative to 
its initial value is less than the selected value of the <a href = "matlab: helpview([docroot '/toolbox/optim/msg_csh/optim_msg_csh.map'],'function_tolerance_lsq','CSHelpWindow');">function tolerance</a>.

<<a href = "matlab: createExitMsg('snls',3.000000e+00,true,true,'lsqnonlin',3.908518e-14,'selected',1.000000e-12,0.000000e+00,'',0.000000e+00,0.000000e+00,'',0.000000e+00);">stopping criteria details</a>>

-----oooooo----oooooo----oooooo----
   
f2: 
8.9444e-14   2.382e-12  3.1787e-17  1.5935e-16  8.0094e-14   2.699e-09
Sum of f2: 
2.7015e-09
   
-----oooooo----oooooo----oooooo----
   
Final constraints values:
   
Name          lat_indx      before         after           low            high       min dif before    min dif after  
@(r,~,~)transpose(fi  1  -1.841e-06	-1.826e-06	-2.126e-06	-2.126e-06	 2.840e-07	 2.840e-07
@(r,~,~)transpose(fi  2   3.928e-04	-1.933e-05	-2.088e-05	-2.088e-05	 4.136e-04	 4.136e-04
@(r,~,~)transpose(fi  3   1.248e-03	-2.591e-05	-2.592e-05	-2.592e-05	 1.274e-03	 1.274e-03
@(r,~,~)transpose(fi  4   4.699e-04	-7.805e-07	-7.679e-07	-7.679e-07	 4.707e-04	 4.707e-04
@(r,~,~)transpose(fi  5   2.830e-07	 2.830e-07	 0.000e+00	 0.000e+00	 2.830e-07	 2.830e-07
@(r,~,~)transpose(fi  6   4.019e-05	 5.195e-05	 7.590e-10	 7.590e-10	 4.019e-05	 4.019e-05
   
-----oooooo----oooooo----oooooo----
    
Final variable values:
   
Name       field          before    after   variation
SI1E       PolynomB     -3.67373e-06    -0.00140688    -0.00140321
SH3E       PolynomB            0    0.00121111    0.00121111
SI1E       PolynomA     -0.000228178    -0.000592056    -0.000363878
SH3E       PolynomA            0    -0.000587329    -0.000587329
   
-----oooooo----oooooo----oooooo----
   
Found closed orbit
X: 232.091 -> 232.091 um
Y: 120.212 -> 120.212 um
Correction Step: 2/2
Steerers to fix orbit H  using 200 eig
Steerers to fix orbit V  using 200 eig
 --- reference orbit = 0
Orbit correction iter 1,n-eig: 20, 20,
Orbit correction iter 2,n-eig: 40, 40,
Orbit correction iter 3,n-eig: 60, 60,
Orbit correction iter 4,n-eig: 80, 80,
Orbit correction iter 5,n-eig: 100, 100,
Orbit correction iter 6,n-eig: 120, 120,
Orbit correction iter 7,n-eig: 140, 140,
Orbit correction iter 8,n-eig: 160, 160,
Orbit correction iter 9,n-eig: 180, 180,
Orbit correction iter 10,n-eig: 200, 200,
      before    -->    after
oX: 233.479 -> 214.697um
oY: 120.657 -> 100.325um
    min    mean    max
hs:-0.43   0.00   0.46 mrad
vs:-0.44   0.00   0.38 mrad
dpp: -0.0007216
 --- model lattice data --- 
 --- errors lattice data --- 
 --- corrected lattice data --- 
--------------------------------------------------
------ total std corrector values applyed --------
------                                    --------
       HK (288) [1/m]: 9.67e-04 -> 9.68e-04
       VK (288) [1/m]: 7.18e-04 -> 7.19e-04
       SK (288) [1/m2]: 0.00e+00 -> 0.00e+00
       QK (514) [1/m2]: 0.00e+00 -> 0.00e+00
------                                    --------
------    residual orbit and dispersion   --------
------                                    --------
       OH (3987) [m]: 2.10e-04 -> 1.96e-04
       OV (3987) [m]: 1.36e-04 -> 1.13e-04
       DH (3987) [m]: 1.23e-02 -> 1.44e-02
       DV (3987) [m]:8.90e-03 -> 9.31e-03
       BBH (3987) %: 15.8 -> 15.3
       BBV (3987) %: 25.5 -> 24.6
       PhH (3987) : 1.41e-01 -> 1.38e-01
       PhV (3987) : 1.52e-01 -> 1.46e-01
------                                    --------
------        tune and emittance          --------
------                                    --------
       Qx [76.210]: 76.169 -> 76.170
       Qy [27.340]: 27.368 -> 27.365
       Cx [6.000]: 5.786 -> 5.800
       Cy [4.000]: 4.627 -> 4.630
       EX [132.111 pm]: 191.963 -> 213.232
       EY [0.000pm]: 33.787 -> 34.969
------                                    --------
--------------------------------------------------
Elapsed time is 38.548273 seconds.
corr order  : 0, 1,
corr eig    : 200, 200, 200, 250, 350, 100, 350,
>>>>>  Correction sequence started  <<<<<
     # BPM  : 320
     # V cor: 288
     # H cor: 288
     # S cor: 288
     # Q cor: 514
>>>>>  --------------------------  <<<<<
 --- - - - - - - - - - - - - - - - - - - ---
 ---                                     ---
 --- FAST MODE: MODEL RM ARE BEING USED! ---
 ---                                     ---
 --- - - - - - - - - - - - - - - - - - - ---
>>>>>      Correction STRATEGY :       <<<<<
.
          open trajectory (steerers)
          orbit (steerers) 
.
>>>>>  --------------------------  <<<<<
Correction Step: 1/2
Open Trajectory Correction started. 5mm escursion accepted
correcting trajectory with model rm
Search closed orbit
Trajectory correction: nbpms= 90 ncor: 81, 81,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 2008.098 -> 1703.434 um
Y: 2123.340 -> 1437.244 um
Search closed orbit
Trajectory correction: nbpms= 100 ncor: 90, 90,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1810.313 -> 555.209 um
Y: 1515.802 -> 800.190 um
Search closed orbit
Trajectory correction: nbpms= 196 ncor: 176, 176,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1946.333 -> 449.577 um
Y: 1213.907 -> 665.592 um
Search closed orbit
Trajectory correction: nbpms= 215 ncor: 194, 194,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 576.183 -> 439.348 um
Y: 1239.528 -> 462.824 um
Search closed orbit
Trajectory correction: nbpms= 228 ncor: 204, 204,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 582.329 -> 289.737 um
Y: 858.045 -> 413.136 um
Search closed orbit
Trajectory correction: nbpms= 249 ncor: 223, 223,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 613.405 -> 289.244 um
Y: 1026.058 -> 431.360 um
Search closed orbit
Trajectory correction: nbpms= 272 ncor: 245, 245,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 1237.645 -> 325.974 um
Y: 924.502 -> 481.144 um
Search closed orbit
Trajectory correction: nbpms= 317 ncor: 284, 284,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 595.801 -> 358.066 um
Y: 1142.379 -> 451.404 um
Search closed orbit
Trajectory correction: nbpms= 320 ncor: 287, 287,
computing ORM for available trajectory
H PLANE
correcting available H trajectory
V PLANE
correcting available V trajectory
X: 382.413 -> 243.812 um
Y: 552.680 -> 217.631 um
Search closed orbit
Trajectory closure with last 2 bpms
f2: 
2.8561e-07  1.7044e-07  4.0939e-07  2.3828e-08  1.3247e-14  2.0577e-10
Sum of f2: 
8.8947e-07

                                         Norm of      First-order 
 Iteration  Func-count     f(x)          step          optimality
     0          5     8.89471e-07                       0.00154
     1         10     2.97865e-11     0.00380968       6.48e-08      
     2         15     2.97855e-11    7.71126e-07       4.11e-09      

<a href = "matlab: helpview([docroot '/toolbox/optim/msg_csh/optim_msg_csh.map'],'local_min_possible_lsq','CSHelpWindow');">Local minimum possible</a>.

lsqnonlin stopped because the final change in the sum of squares relative to 
its initial value is less than the selected value of the <a href = "matlab: helpview([docroot '/toolbox/optim/msg_csh/optim_msg_csh.map'],'function_tolerance_lsq','CSHelpWindow');">function tolerance</a>.

<<a href = "matlab: createExitMsg('snls',3.000000e+00,true,true,'lsqnonlin',1.048563e-15,'selected',1.000000e-12,0.000000e+00,'',0.000000e+00,0.000000e+00,'',0.000000e+00);">stopping criteria details</a>>

-----oooooo----oooooo----oooooo----
   
f2: 
9.6252e-16  2.5707e-14  1.4503e-17  1.0827e-16  1.3247e-14  2.9745e-11
Sum of f2: 
2.9785e-11
   
-----oooooo----oooooo----oooooo----
   
Final constraints values:
   
Name          lat_indx      before         after           low            high       min dif before    min dif after  
@(r,~,~)transpose(fi  1  -5.130e-04	 2.139e-05	 2.142e-05	 2.142e-05	 5.344e-04	 5.344e-04
@(r,~,~)transpose(fi  2   3.734e-04	-3.964e-05	-3.948e-05	-3.948e-05	 4.128e-04	 4.128e-04
@(r,~,~)transpose(fi  3  -7.467e-04	-1.069e-04	-1.069e-04	-1.069e-04	 6.398e-04	 6.398e-04
@(r,~,~)transpose(fi  4  -2.969e-04	-1.425e-04	-1.425e-04	-1.425e-04	 1.544e-04	 1.544e-04
@(r,~,~)transpose(fi  5   1.151e-07	 1.151e-07	 0.000e+00	 0.000e+00	 1.151e-07	 1.151e-07
@(r,~,~)transpose(fi  6  -1.434e-05	-5.445e-06	 9.135e-09	 9.135e-09	 1.434e-05	 1.434e-05
   
-----oooooo----oooooo----oooooo----
    
Final variable values:
   
Name       field          before    after   variation
SI1E       PolynomB     0.000125038    -0.000927326    -0.00105236
SH3E       PolynomB            0    -0.00127622    -0.00127622
SI1E       PolynomA     -0.000699948    0.0007133    0.00141325
SH3E       PolynomA            0    -0.00312817    -0.00312817
   
-----oooooo----oooooo----oooooo----
   
Found closed orbit
X: 230.359 -> 230.359 um
Y: 262.975 -> 262.975 um
Correction Step: 2/2
Steerers to fix orbit H  using 200 eig
Steerers to fix orbit V  using 200 eig
 --- reference orbit = 0
Orbit correction iter 1,n-eig: 20, 20,
Orbit correction iter 2,n-eig: 40, 40,
Orbit correction iter 3,n-eig: 60, 60,
Orbit correction iter 4,n-eig: 80, 80,
Orbit correction iter 5,n-eig: 100, 100,
Orbit correction iter 6,n-eig: 120, 120,
Orbit correction iter 7,n-eig: 140, 140,
Orbit correction iter 8,n-eig: 160, 160,
Orbit correction iter 9,n-eig: 180, 180,
Orbit correction iter 10,n-eig: 200, 200,
      before    -->    after
oX: 230.273 -> 211.954um
oY: 263.047 -> 158.082um
    min    mean    max
hs:-0.72  -0.00   0.73 mrad
vs:-0.48  -0.00   0.53 mrad
dpp: 7.6153e-05
 --- model lattice data --- 
 --- errors lattice data --- 
 --- corrected lattice data --- 
--------------------------------------------------
------ total std corrector values applyed --------
------                                    --------
       HK (288) [1/m]: 1.38e-03 -> 1.38e-03
       VK (288) [1/m]: 8.91e-04 -> 8.92e-04
       SK (288) [1/m2]: 0.00e+00 -> 0.00e+00
       QK (514) [1/m2]: 0.00e+00 -> 0.00e+00
------                                    --------
------    residual orbit and dispersion   --------
------                                    --------
       OH (3987) [m]: 2.16e-04 -> 2.01e-04
       OV (3987) [m]: 2.96e-04 -> 1.77e-04
       DH (3987) [m]: 1.20e-02 -> 1.23e-02
       DV (3987) [m]:1.04e-02 -> 1.28e-02
       BBH (3987) %: 34.5 -> 32.4
       BBV (3987) %: 13.3 -> 12.1
       PhH (3987) : 2.11e-01 -> 2.02e-01
       PhV (3987) : 1.79e-01 -> 1.81e-01
------                                    --------
------        tune and emittance          --------
------                                    --------
       Qx [76.210]: 76.142 -> 76.145
       Qy [27.340]: 27.269 -> 27.265
       Cx [6.000]: 6.222 -> 6.513
       Cy [4.000]: 4.724 -> 4.684
       EX [132.111 pm]: 186.862 -> 184.299
       EY [0.000pm]: 76.932 -> 95.929
------                                    --------
--------------------------------------------------
Elapsed time is 38.070400 seconds.
corr order  : 0, 1,
corr eig    : 200, 200, 200, 250, 350, 100, 350,
>>>>>  Correction sequence started  <<<<<
     # BPM  : 320
     # V cor: 288
     # H cor: 288
     # S cor: 288
     # Q cor: 514
>>>>>  --------------------------  <<<<<
 --- - - - - - - - - - - - - - - - - - - ---
 ---                                     ---
 --- FAST MODE: MODEL RM ARE BEING USED! ---
 ---                                     ---
 --- - - - - - - - - - - - - - - - - - - ---
>>>>>      Correction STRATEGY :       <<<<<
.
          open trajectory (steerers)
          orbit (steerers) 
.
>>>>>  --------------------------  <<<<<
Correction Step: 1/2
Open Trajectory Correction started. 5mm escursion accepted
correcting trajectory with model rm
Search closed orbit
Trajectory correction: nbpms= 88 ncor: 78, 78,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 1181.555 -> 973.028 um
Y: 1825.244 -> 633.969 um
Search closed orbit
Trajectory correction: nbpms= 95 ncor: 86, 86,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 1541.779 -> 540.453 um
Y: 703.921 -> 373.602 um
Search closed orbit
Trajectory correction: nbpms= 109 ncor: 97, 97,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 1079.315 -> 314.375 um
Y: 1021.216 -> 298.287 um
Search closed orbit
Trajectory correction: nbpms= 150 ncor: 135, 135,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 499.790 -> 445.851 um
Y: 1370.512 -> 479.541 um
Search closed orbit
Trajectory correction: nbpms= 200 ncor: 180, 180,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 1078.446 -> 492.574 um
Y: 1190.660 -> 715.053 um
Search closed orbit
Trajectory correction: nbpms= 292 ncor: 263, 263,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 2983.204 -> 2155.134 um
Y: 1284.420 -> 1033.731 um
Search closed orbit
Trajectory correction: nbpms= 284 ncor: 256, 256,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 1779.613 -> 813.051 um
Y: 985.405 -> 377.831 um
Search closed orbit
Trajectory correction: nbpms= 314 ncor: 283, 283,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 1486.720 -> 645.409 um
Y: 618.920 -> 285.624 um
Search closed orbit
Trajectory correction: nbpms= 320 ncor: 287, 287,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 659.895 -> 281.892 um
Y: 320.349 -> 152.953 um
Search closed orbit
Trajectory closure with last 2 correctors
Found closed orbit
X: 361.957 -> 361.957 um
Y: 146.355 -> 146.355 um
Correction Step: 2/2
Steerers to fix orbit H  using 200 eig
Steerers to fix orbit V  using 200 eig
 --- reference orbit = 0
Orbit correction iter 1,n-eig: 20, 20,
      before    -->    after
oX: 360.752 -> 315.197um
oY: 146.668 -> 106.027um
    min    mean    max
hs:-0.55   0.00   0.55 mrad
vs:-0.42  -0.00   0.43 mrad
dpp: -0.00044213
Orbit correction iter 2,n-eig: 40, 40,
      before    -->    after
oX: 360.752 -> 307.370um
oY: 146.668 -> 97.918um
    min    mean    max
hs:-0.55   0.00   0.55 mrad
vs:-0.42  -0.00   0.43 mrad
dpp: -0.00044213
Orbit correction iter 3,n-eig: 60, 60,
      before    -->    after
oX: 360.752 -> 306.418um
oY: 146.668 -> 96.677um
    min    mean    max
hs:-0.55   0.00   0.55 mrad
vs:-0.42  -0.00   0.43 mrad
dpp: -0.00044213
Orbit correction iter 4,n-eig: 80, 80,
      before    -->    after
oX: 360.752 -> 306.213um
oY: 146.668 -> 96.445um
    min    mean    max
hs:-0.55   0.00   0.55 mrad
vs:-0.42  -0.00   0.43 mrad
dpp: -0.00044213
Orbit correction iter 5,n-eig: 100, 100,
      before    -->    after
oX: 360.752 -> 306.137um
oY: 146.668 -> 96.396um
    min    mean    max
hs:-0.55   0.00   0.55 mrad
vs:-0.42  -0.00   0.43 mrad
dpp: -0.00044213
Orbit correction iter 6,n-eig: 120, 120,
      before    -->    after
oX: 360.752 -> 306.093um
oY: 146.668 -> 96.388um
    min    mean    max
hs:-0.55   0.00   0.55 mrad
vs:-0.42  -0.00   0.43 mrad
dpp: -0.00044213
Orbit correction iter 7,n-eig: 140, 140,
      before    -->    after
oX: 360.752 -> 306.059um
oY: 146.668 -> 96.390um
    min    mean    max
hs:-0.55   0.00   0.55 mrad
vs:-0.42  -0.00   0.43 mrad
dpp: -0.00044213
Orbit correction iter 8,n-eig: 160, 160,
      before    -->    after
oX: 360.752 -> 306.029um
oY: 146.668 -> 96.395um
    min    mean    max
hs:-0.55   0.00   0.55 mrad
vs:-0.42  -0.00   0.43 mrad
dpp: -0.00044213
Orbit correction iter 9,n-eig: 180, 180,
      before    -->    after
oX: 360.752 -> 306.000um
oY: 146.668 -> 96.399um
    min    mean    max
hs:-0.55   0.00   0.55 mrad
vs:-0.42  -0.00   0.43 mrad
dpp: -0.00044213
Orbit correction iter 10,n-eig: 200, 200,
      before    -->    after
oX: 360.752 -> 305.973um
oY: 146.668 -> 96.404um
    min    mean    max
hs:-0.55   0.00   0.55 mrad
vs:-0.42  -0.00   0.43 mrad
dpp: -0.00044213
      before    -->    after
oX: 360.752 -> 305.973um
oY: 146.668 -> 96.404um
    min    mean    max
hs:-0.55   0.00   0.55 mrad
vs:-0.42  -0.00   0.43 mrad
dpp: -0.00044213
 --- model lattice data --- 
{Operation terminated by user during <a href="matlab:matlab.internal.language.introspective.errorDocCallback('atlinopt/analyze', '/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/atlinopt.m', 147)" style="font-weight:bold">atlinopt/analyze</a> (<a href="matlab: opentoline('/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/atlinopt.m',147,0)">line 147</a>)


In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('atlinopt', '/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/atlinopt.m', 91)" style="font-weight:bold">atlinopt</a> (<a href="matlab: opentoline('/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/atlinopt.m',91,0)">line 91</a>)
[MSA,MSB,gamma,CL,AL,BL]=cellfun(@analyze,num2cell(MS,[1 2]),'UniformOutput',false);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('DisplayCorrectionEffect>getdatalattice', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/DisplayCorrectionEffect.m', 141)" style="font-weight:bold">DisplayCorrectionEffect>getdatalattice</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/DisplayCorrectionEffect.m',141,0)">line 141</a>)
[l,t,a.crom]=atlinopt(r0,0,refpts);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('DisplayCorrectionEffect', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/DisplayCorrectionEffect.m', 31)" style="font-weight:bold">DisplayCorrectionEffect</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/DisplayCorrectionEffect.m',31,0)">line 31</a>)
d0=getdatalattice(r0,inCODe*0,refpts,indHCor,indVCor,indQCor,indSCor,compute_emittances);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('CorrectionChain', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectionChain.m', 1015)" style="font-weight:bold">CorrectionChain</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectionChain.m',1015,0)">line 1015</a>)
    DisplayCorrectionEffect(r0,rerr0,rerr,inCODe,inCOD,1:length(r0),indHCor,indVCor,indQuadCor,indSkewQuadCor);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('CorrectLattice', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectLattice.m', 73)" style="font-weight:bold">CorrectLattice</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectLattice.m',73,0)">line 73</a>)
[rcor]=CorrectionChain(...

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('testorbitaftertrajectory', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/testorbitaftertrajectory.m', 68)" style="font-weight:bold">testorbitaftertrajectory</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/testorbitaftertrajectory.m',68,0)">line 68</a>)
rcor=CorrectLattice(...
} 

testorbitaftertrajectory
corr order  : 0, 1,
corr eig    : 200, 200, 200, 250, 350, 100, 350,
>>>>>  Correction sequence started  <<<<<
     # BPM  : 320
     # V cor: 288
     # H cor: 288
     # S cor: 288
     # Q cor: 514
>>>>>  --------------------------  <<<<<
 --- - - - - - - - - - - - - - - - - - - ---
 ---                                     ---
 --- FAST MODE: MODEL RM ARE BEING USED! ---
 ---                                     ---
 --- - - - - - - - - - - - - - - - - - - ---
>>>>>      Correction STRATEGY :       <<<<<
.
          open trajectory (steerers)
          orbit (steerers) 
.
>>>>>  --------------------------  <<<<<
Correction Step: 1/2
Open Trajectory Correction started. 5mm escursion accepted
correcting trajectory with model rm
Search closed orbit
Trajectory correction: nbpms= 20 ncor: 18, 18,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 877.658 -> 401.948 um
Y: 964.159 -> 389.841 um
Search closed orbit
Trajectory correction: nbpms= 49 ncor: 43, 43,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 2397.687 -> 562.303 um
Y: 1261.921 -> 870.735 um
Search closed orbit
Trajectory correction: nbpms= 50 ncor: 45, 45,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 590.654 -> 231.040 um
Y: 879.564 -> 359.805 um
Search closed orbit
Trajectory correction: nbpms= 100 ncor: 90, 90,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 1158.535 -> 447.533 um
Y: 1662.380 -> 533.681 um
Search closed orbit
Trajectory correction: nbpms= 133 ncor: 120, 120,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 1533.281 -> 528.683 um
Y: 935.762 -> 364.484 um
Search closed orbit
Trajectory correction: nbpms= 150 ncor: 135, 135,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 696.916 -> 289.243 um
Y: 1008.849 -> 368.315 um
Search closed orbit
Trajectory correction: nbpms= 170 ncor: 153, 153,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 391.684 -> 229.796 um
Y: 553.664 -> 239.751 um
Search closed orbit
Trajectory correction: nbpms= 200 ncor: 180, 180,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 340.717 -> 253.997 um
Y: 1106.293 -> 364.083 um
Search closed orbit
Trajectory correction: nbpms= 252 ncor: 227, 227,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 1707.447 -> 541.649 um
Y: 692.876 -> 477.555 um
Search closed orbit
Trajectory correction: nbpms= 320 ncor: 287, 287,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 1055.546 -> 591.859 um
Y: 1032.344 -> 368.529 um
Search closed orbit
Trajectory closure with last 2 correctors
Found closed orbit
X: 504.425 -> 504.425 um
Y: 526.341 -> 526.341 um
Correction Step: 2/2
Steerers to fix orbit H  using 200 eig
Steerers to fix orbit V  using 200 eig
 --- reference orbit = 0
Orbit correction iter 1,n-eig: 20, 20,
{Index exceeds matrix dimensions.

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('atcorrectorbit', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/orbit/atcorrectorbit.m', 197)" style="font-weight:bold">atcorrectorbit</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/orbit/atcorrectorbit.m',197,0)">line 197</a>)
        dch=qemsvd_mod(RMH,[ox';0],neigSteerer(1,Niter));

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('CorrectionChain', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectionChain.m', 238)" style="font-weight:bold">CorrectionChain</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectionChain.m',238,0)">line 238</a>)
            [rerr,inCOD]=atcorrectorbit(rerr,...

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('CorrectLattice', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectLattice.m', 73)" style="font-weight:bold">CorrectLattice</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectLattice.m',73,0)">line 73</a>)
[rcor]=CorrectionChain(...

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('testorbitaftertrajectory', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/testorbitaftertrajectory.m', 68)" style="font-weight:bold">testorbitaftertrajectory</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/testorbitaftertrajectory.m',68,0)">line 68</a>)
rcor=CorrectLattice(...
} 

testorbitaftertrajectory
corr order  : 0, 1,
corr eig    : 200, 200, 200, 250, 350, 100, 350,
>>>>>  Correction sequence started  <<<<<
     # BPM  : 320
     # V cor: 288
     # H cor: 288
     # S cor: 288
     # Q cor: 514
>>>>>  --------------------------  <<<<<
 --- - - - - - - - - - - - - - - - - - - ---
 ---                                     ---
 --- FAST MODE: MODEL RM ARE BEING USED! ---
 ---                                     ---
 --- - - - - - - - - - - - - - - - - - - ---
>>>>>      Correction STRATEGY :       <<<<<
.
          open trajectory (steerers)
          orbit (steerers) 
.
>>>>>  --------------------------  <<<<<
Correction Step: 1/2
Open Trajectory Correction started. 5mm escursion accepted
correcting trajectory with model rm
Search closed orbit
Trajectory correction: nbpms= 30 ncor: 27, 27,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 2534.920 -> 899.622 um
Y: 1177.310 -> 387.674 um
Search closed orbit
Trajectory correction: nbpms= 37 ncor: 32, 32,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 1090.612 -> 394.491 um
Y: 743.837 -> 276.899 um
Search closed orbit
Trajectory correction: nbpms= 50 ncor: 45, 45,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 1471.072 -> 1105.711 um
Y: 1586.372 -> 562.569 um
Search closed orbit
Trajectory correction: nbpms= 108 ncor: 96, 96,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 1643.695 -> 782.688 um
Y: 1755.780 -> 865.068 um
Search closed orbit
Trajectory correction: nbpms= 165 ncor: 149, 149,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 1929.250 -> 1245.527 um
Y: 1728.789 -> 762.215 um
Search closed orbit
Trajectory correction: nbpms= 198 ncor: 177, 177,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 1748.381 -> 772.527 um
Y: 842.891 -> 274.403 um
Search closed orbit
Trajectory correction: nbpms= 209 ncor: 187, 187,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 957.284 -> 462.690 um
Y: 376.560 -> 198.980 um
Search closed orbit
Trajectory correction: nbpms= 235 ncor: 212, 212,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 1112.753 -> 491.441 um
Y: 1113.850 -> 601.283 um
Search closed orbit
Trajectory correction: nbpms= 240 ncor: 216, 216,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 651.999 -> 321.297 um
Y: 839.394 -> 329.160 um
Search closed orbit
Trajectory correction: nbpms= 299 ncor: 268, 268,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 1872.016 -> 676.523 um
Y: 678.172 -> 320.133 um
Search closed orbit
Trajectory correction: nbpms= 319 ncor: 286, 286,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 1136.274 -> 447.673 um
Y: 475.015 -> 229.959 um
Search closed orbit
Trajectory correction: nbpms= 320 ncor: 287, 287,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 488.078 -> 281.257 um
Y: 234.901 -> 102.398 um
Search closed orbit
Trajectory closure with last 2 correctors
Found closed orbit
X: 273.497 -> 273.497 um
Y: 239.085 -> 239.085 um
Correction Step: 2/2
Steerers to fix orbit H  using 200 eig
Steerers to fix orbit V  using 200 eig
 --- reference orbit = 0
Orbit correction iter 1,n-eig: 20, 20,
      before    -->    after
oX: 277.778 -> 267.063um
oY: 240.642 -> 174.174um
    min    mean    max
hs:-0.72  -0.00   0.58 mrad
vs:-0.65  -0.00   0.46 mrad
dpp: -0.0011468
Orbit correction iter 2,n-eig: 40, 40,
      before    -->    after
oX: 267.063 -> 257.803um
oY: 174.174 -> 161.602um
    min    mean    max
hs:-0.72  -0.00   0.58 mrad
vs:-0.65  -0.00   0.46 mrad
dpp: -0.0011468
Orbit correction iter 3,n-eig: 60, 60,
{Index exceeds matrix dimensions.

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('atcorrectorbit', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/orbit/atcorrectorbit.m', 197)" style="font-weight:bold">atcorrectorbit</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/orbit/atcorrectorbit.m',197,0)">line 197</a>)
        dch=qemsvd_mod(RMH,[ox';0],neigSteerer(1,iter));

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('CorrectionChain', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectionChain.m', 238)" style="font-weight:bold">CorrectionChain</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectionChain.m',238,0)">line 238</a>)
            [rerr,inCOD]=atcorrectorbit(rerr,...

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('CorrectLattice', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectLattice.m', 73)" style="font-weight:bold">CorrectLattice</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectLattice.m',73,0)">line 73</a>)
[rcor]=CorrectionChain(...

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('testorbitaftertrajectory', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/testorbitaftertrajectory.m', 68)" style="font-weight:bold">testorbitaftertrajectory</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/testorbitaftertrajectory.m',68,0)">line 68</a>)
rcor=CorrectLattice(...
} 
testorbitaftertrajectory
corr order  : 0, 1,
corr eig    : 200, 200, 200, 250, 350, 100, 350,
>>>>>  Correction sequence started  <<<<<
     # BPM  : 320
     # V cor: 288
     # H cor: 288
     # S cor: 288
     # Q cor: 514
>>>>>  --------------------------  <<<<<
 --- - - - - - - - - - - - - - - - - - - ---
 ---                                     ---
 --- FAST MODE: MODEL RM ARE BEING USED! ---
 ---                                     ---
 --- - - - - - - - - - - - - - - - - - - ---
>>>>>      Correction STRATEGY :       <<<<<
.
          open trajectory (steerers)
          orbit (steerers) 
.
>>>>>  --------------------------  <<<<<
Correction Step: 1/2
Open Trajectory Correction started. 5mm escursion accepted
correcting trajectory with model rm
Search closed orbit
Trajectory correction: nbpms= 45 ncor: 41, 41,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 2554.336 -> 1011.210 um
Y: 1516.207 -> 524.042 um
Search closed orbit
Trajectory correction: nbpms= 136 ncor: 122, 122,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 2182.288 -> 1216.953 um
Y: 1241.503 -> 1267.858 um
Search closed orbit
Trajectory correction: nbpms= 210 ncor: 189, 189,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 1511.134 -> 894.522 um
Y: 1505.845 -> 687.230 um
Search closed orbit
Trajectory correction: nbpms= 240 ncor: 216, 216,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 1097.207 -> 416.701 um
Y: 924.816 -> 467.498 um
Search closed orbit
Trajectory correction: nbpms= 280 ncor: 252, 252,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 890.726 -> 483.586 um
Y: 925.539 -> 407.034 um
Search closed orbit
Trajectory correction: nbpms= 310 ncor: 279, 279,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 608.747 -> 294.304 um
Y: 696.230 -> 300.349 um
Search closed orbit
Trajectory correction: nbpms= 320 ncor: 287, 287,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 393.273 -> 229.567 um
Y: 628.199 -> 216.903 um
Search closed orbit
Trajectory closure with last 2 correctors
Found closed orbit
X: 279.898 -> 279.898 um
Y: 257.756 -> 257.756 um
Correction Step: 2/2
Steerers to fix orbit H  using 200 eig
Steerers to fix orbit V  using 200 eig
 --- reference orbit = 0
Orbit correction iter 1,n-eig: 20, 20,
      before    -->    after
oX: 300.066 -> 282.297um
oY: 259.060 -> 171.916um
    min    mean    max
hs:-0.70  -0.00   0.98 mrad
vs:-0.59   0.00   0.39 mrad
dpp: -0.0019556
Orbit correction iter 2,n-eig: 40, 40,
      before    -->    after
oX: 282.297 -> 278.186um
oY: 171.916 -> 158.538um
    min    mean    max
hs:-0.70  -0.00   0.98 mrad
vs:-0.59   0.00   0.39 mrad
dpp: -0.0019556
Orbit correction iter 3,n-eig: 60, 60,
{Index exceeds matrix dimensions.

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('atcorrectorbit', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/orbit/atcorrectorbit.m', 197)" style="font-weight:bold">atcorrectorbit</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/orbit/atcorrectorbit.m',197,0)">line 197</a>)
        dch=qemsvd_mod(RMH,[ox';0],neigSteerer(1,iter));

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('CorrectionChain', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectionChain.m', 238)" style="font-weight:bold">CorrectionChain</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectionChain.m',238,0)">line 238</a>)
            [rerr,inCOD]=atcorrectorbit(rerr,...

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('CorrectLattice', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectLattice.m', 73)" style="font-weight:bold">CorrectLattice</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectLattice.m',73,0)">line 73</a>)
[rcor]=CorrectionChain(...

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('testorbitaftertrajectory', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/testorbitaftertrajectory.m', 68)" style="font-weight:bold">testorbitaftertrajectory</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/testorbitaftertrajectory.m',68,0)">line 68</a>)
rcor=CorrectLattice(...
} 


testorbitaftertrajectory
corr order  : 0, 1,
corr eig    : 200, 200, 200, 250, 350, 100, 350,
>>>>>  Correction sequence started  <<<<<
     # BPM  : 320
     # V cor: 288
     # H cor: 288
     # S cor: 288
     # Q cor: 514
>>>>>  --------------------------  <<<<<
 --- - - - - - - - - - - - - - - - - - - ---
 ---                                     ---
 --- FAST MODE: MODEL RM ARE BEING USED! ---
 ---                                     ---
 --- - - - - - - - - - - - - - - - - - - ---
>>>>>      Correction STRATEGY :       <<<<<
.
          open trajectory (steerers)
          orbit (steerers) 
.
>>>>>  --------------------------  <<<<<
Correction Step: 1/2
Open Trajectory Correction started. 5mm escursion accepted
correcting trajectory with model rm
Search closed orbit
Trajectory correction: nbpms= 27 ncor: 23, 23,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 1570.662 -> 699.264 um
Y: 1755.115 -> 666.154 um
Search closed orbit
Trajectory correction: nbpms= 36 ncor: 32, 32,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 1931.913 -> 631.689 um
Y: 1777.844 -> 890.454 um
Search closed orbit
Trajectory correction: nbpms= 46 ncor: 41, 41,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 1818.829 -> 546.634 um
Y: 1492.805 -> 452.673 um
Search closed orbit
Trajectory correction: nbpms= 79 ncor: 70, 70,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 1034.311 -> 422.190 um
Y: 1467.825 -> 314.536 um
Search closed orbit
Trajectory correction: nbpms= 151 ncor: 135, 135,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 1965.338 -> 589.714 um
Y: 1420.742 -> 659.877 um
Search closed orbit
Trajectory correction: nbpms= 196 ncor: 176, 176,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 2446.619 -> 896.659 um
Y: 1027.421 -> 606.106 um
Search closed orbit
Trajectory correction: nbpms= 203 ncor: 183, 183,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 1420.824 -> 602.860 um
Y: 623.342 -> 293.447 um
Search closed orbit
Trajectory correction: nbpms= 227 ncor: 203, 203,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 874.685 -> 322.903 um
Y: 792.187 -> 405.401 um
Search closed orbit
Trajectory correction: nbpms= 240 ncor: 216, 216,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 573.792 -> 212.476 um
Y: 778.659 -> 189.013 um
Search closed orbit
Trajectory correction: nbpms= 270 ncor: 243, 243,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 334.697 -> 222.835 um
Y: 668.313 -> 179.327 um
Search closed orbit
Trajectory correction: nbpms= 320 ncor: 287, 287,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 570.195 -> 375.518 um
Y: 958.635 -> 288.640 um
Search closed orbit
Trajectory closure with last 2 correctors
Found closed orbit
X: 315.903 -> 315.903 um
Y: 285.472 -> 285.472 um
Correction Step: 2/2
Steerers to fix orbit H  using 200 eig
Steerers to fix orbit V  using 200 eig
 --- reference orbit = 0
Orbit correction iter 1,n-eig: 20, 20,
      before    -->    after
oX: 314.758 -> 269.707um
oY: 286.705 -> 228.702um
    min    mean    max
hs:-0.53  -0.00   0.62 mrad
vs:-0.57   0.00   0.85 mrad
dpp: -0.00074944
Orbit correction iter 2,n-eig: 40, 40,
      before    -->    after
oX: 269.707 -> 207.367um
oY: 228.702 -> 177.895um
    min    mean    max
hs:-0.53  -0.00   0.62 mrad
vs:-0.57   0.00   0.85 mrad
dpp: -0.00074944
Orbit correction iter 3,n-eig: 60, 60,
      before    -->    after
oX: 207.367 -> 194.176um
oY: 177.895 -> 138.234um
    min    mean    max
hs:-0.53  -0.00   0.62 mrad
vs:-0.57   0.00   0.85 mrad
dpp: -0.00074944
Orbit correction iter 4,n-eig: 80, 80,
      before    -->    after
oX: 194.176 -> 185.373um
oY: 138.234 -> 110.291um
    min    mean    max
hs:-0.53  -0.00   0.62 mrad
vs:-0.56   0.00   0.84 mrad
dpp: -0.00074944
Orbit correction iter 5,n-eig: 100, 100,
      before    -->    after
oX: 185.373 -> 182.720um
oY: 110.291 -> 92.562um
    min    mean    max
hs:-0.53  -0.00   0.62 mrad
vs:-0.56   0.00   0.84 mrad
dpp: -0.00074944
Orbit correction iter 6,n-eig: 120, 120,
      before    -->    after
oX: 182.720 -> 181.609um
oY: 92.562 -> 85.065um
    min    mean    max
hs:-0.53  -0.00   0.62 mrad
vs:-0.56   0.00   0.86 mrad
dpp: -0.00074944
Orbit correction iter 7,n-eig: 140, 140,
      before    -->    after
oX: 181.609 -> 181.383um
oY: 85.065 -> 80.810um
    min    mean    max
hs:-0.53  -0.00   0.62 mrad
vs:-0.59   0.00   0.87 mrad
dpp: -0.00074944
Orbit correction iter 8,n-eig: 160, 160,
      before    -->    after
oX: 181.383 -> 177.424um
oY: 80.810 -> 71.130um
    min    mean    max
hs:-0.52  -0.00   0.62 mrad
vs:-0.64   0.00   0.96 mrad
dpp: -0.00074944
Orbit correction iter 9,n-eig: 180, 180,
      before    -->    after
oX: 177.424 -> 167.780um
oY: 71.130 -> 67.302um
    min    mean    max
hs:-0.63  -0.00   0.76 mrad
vs:-0.58   0.00   0.98 mrad
dpp: -0.00074944
Orbit correction iter 10,n-eig: 200, 200,
      before    -->    after
oX: 167.780 -> 160.371um
oY: 67.302 -> 66.328um
    min    mean    max
hs:-0.81  -0.00   1.01 mrad
vs:-0.58   0.00   0.98 mrad
dpp: -0.00074944
      before    -->    after
oX: 314.758 -> 160.371um
oY: 286.705 -> 66.328um
    min    mean    max
hs:-0.81  -0.00   1.01 mrad
vs:-0.58   0.00   0.98 mrad
dpp: -0.00074944
 --- model lattice data --- 
 --- errors lattice data --- 
 --- corrected lattice data --- 
--------------------------------------------------
------ total std corrector values applyed --------
------                                    --------
       HK (288) [1/m]: 1.19e-03 -> 1.65e-03
       VK (288) [1/m]: 1.10e-03 -> 1.16e-03
       SK (288) [1/m2]: 0.00e+00 -> 0.00e+00
       QK (514) [1/m2]: 0.00e+00 -> 0.00e+00
------                                    --------
------    residual orbit and dispersion   --------
------                                    --------
       OH (3987) [m]: 2.81e-04 -> 1.69e-04
       OV (3987) [m]: 3.39e-04 -> 9.27e-05
       DH (3987) [m]: 2.02e-02 -> 2.78e-02
       DV (3987) [m]:1.46e-02 -> 1.57e-02
       BBH (3987) %: 20.0 -> 28.6
       BBV (3987) %: 23.5 -> 12.3
       PhH (3987) : 1.95e-01 -> 2.59e-01
       PhV (3987) : 1.30e-01 -> 1.18e-01
------                                    --------
------        tune and emittance          --------
------                                    --------
       Qx [76.210]: 76.141 -> 76.099
       Qy [27.340]: 27.347 -> 27.293
       Cx [6.000]: 6.555 -> 5.241
       Cy [4.000]: 4.983 -> 3.869
       EX [132.111 pm]: 369.107 -> 534.561
       EY [0.000pm]: 55.552 -> 33.098
------                                    --------
--------------------------------------------------
Elapsed time is 45.297394 seconds.
corr order  : 0, 1,
corr eig    : 200, 200, 200, 250, 350, 100, 350,
{Not enough input arguments.

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('CorrectLattice', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectLattice.m', 88)" style="font-weight:bold">CorrectLattice</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectLattice.m',88,0)">line 88</a>)
    verbose);

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('testorbitaftertrajectory', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/testorbitaftertrajectory.m', 68)" style="font-weight:bold">testorbitaftertrajectory</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/testorbitaftertrajectory.m',68,0)">line 68</a>)
rcor=CorrectLattice(...
} 
opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectLattice.m',88,0)
opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/testorbitaftertrajectory.m',68,0)
opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/testorbitaftertrajectory.m',68,0)
opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectLattice.m',88,0)
testorbitaftertrajectory
corr order  : 0, 1,
corr eig    : 200, 200, 200, 250, 350, 100, 350,
>>>>>  Correction sequence started  <<<<<
     # BPM  : 320
     # V cor: 288
     # H cor: 288
     # S cor: 288
     # Q cor: 514
>>>>>  --------------------------  <<<<<
 --- - - - - - - - - - - - - - - - - - - ---
 ---                                     ---
 --- FAST MODE: MODEL RM ARE BEING USED! ---
 ---                                     ---
 --- - - - - - - - - - - - - - - - - - - ---
>>>>>      Correction STRATEGY :       <<<<<
.
          open trajectory (steerers)
          orbit (steerers) 
.
>>>>>  --------------------------  <<<<<
Correction Step: 1/2
Open Trajectory Correction started. 5mm escursion accepted
correcting trajectory with model rm
Search closed orbit
Trajectory correction: nbpms= 99 ncor: 88, 88,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 2387.214 -> 652.125 um
Y: 1382.764 -> 1063.303 um
Search closed orbit
Trajectory correction: nbpms= 101 ncor: 90, 90,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 950.203 -> 486.079 um
Y: 1084.197 -> 337.153 um
Search closed orbit
Trajectory correction: nbpms= 135 ncor: 122, 122,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 2610.031 -> 803.049 um
Y: 730.004 -> 436.479 um
Search closed orbit
Trajectory correction: nbpms= 150 ncor: 135, 135,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 773.075 -> 346.421 um
Y: 834.501 -> 356.075 um
Search closed orbit
Trajectory correction: nbpms= 208 ncor: 186, 186,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 1862.199 -> 546.703 um
Y: 970.994 -> 491.486 um
Search closed orbit
Trajectory correction: nbpms= 220 ncor: 198, 198,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 581.133 -> 278.762 um
Y: 706.841 -> 408.022 um
Search closed orbit
Trajectory correction: nbpms= 320 ncor: 287, 287,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 1428.912 -> 809.783 um
Y: 1554.803 -> 867.108 um
Search closed orbit
Trajectory closure with last 2 correctors
Found closed orbit
X: 651.233 -> 651.233 um
Y: 802.025 -> 802.025 um
Correction Step: 2/2
Steerers to fix orbit H  using 200 eig
Steerers to fix orbit V  using 200 eig
 --- reference orbit = 0
Orbit correction iter 1,n-eig: 20, 20,
Delta RF : -2.5774 Hz
Orbit correction iter 2,n-eig: 40, 40,
Delta RF : -1.761 Hz
Orbit correction iter 3,n-eig: 60, 60,
Delta RF : -1.0409 Hz
Orbit correction iter 4,n-eig: 80, 80,
Delta RF : -1.5574 Hz
Orbit correction iter 5,n-eig: 100, 100,
Delta RF : -0.95203 Hz
Orbit correction iter 6,n-eig: 120, 120,
Delta RF : -8.2166 Hz
Orbit correction iter 7,n-eig: 140, 140,
Delta RF : -7.2085 Hz
Orbit correction iter 8,n-eig: 160, 160,
Delta RF : -2.44 Hz
Orbit correction iter 9,n-eig: 180, 180,
Delta RF : -20.3313 Hz
Orbit correction iter 10,n-eig: 200, 200,
Delta RF : -7.0436 Hz
      before    -->    after
oX: 658.182 -> 152.370um
oY: 802.154 -> 82.774um
    min    mean    max
hs:-0.72   0.00   0.87 mrad
vs:-0.96   0.00   0.69 mrad
dpp: -0.0014582
 --- model lattice data --- 
 --- errors lattice data --- 
 --- corrected lattice data --- 
{Operation terminated by user during <a href="matlab:matlab.internal.language.introspective.errorDocCallback('ohmienvelope', '/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/ohmienvelope.m', 42)" style="font-weight:bold">ohmienvelope</a> (<a href="matlab: opentoline('/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/ohmienvelope.m',42,0)">line 42</a>)


In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('atx/atx2', '/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/atx.m', 143)" style="font-weight:bold">atx/atx2</a> (<a href="matlab: opentoline('/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/atx.m',143,0)">line 143</a>)
                [envelope,espread,blength,m,T]=ohmienvelope(ring2,radindex,refpts);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('atx', '/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/atx.m', 73)" style="font-weight:bold">atx</a> (<a href="matlab: opentoline('/users/liuzzo/ATcode/atcollab-code-0/atmat/atphysics/atx.m',73,0)">line 73</a>)
[varargout{1:nargout}]=atx2(ring(:,1),energy,periods,voltage,eloss,varargin{:});

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('DisplayCorrectionEffect>getdatalattice', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/DisplayCorrectionEffect.m', 129)" style="font-weight:bold">DisplayCorrectionEffect>getdatalattice</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/DisplayCorrectionEffect.m',129,0)">line 129</a>)
        [~,b0]=atx(r0,0,1:length(r0));

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('DisplayCorrectionEffect', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/DisplayCorrectionEffect.m', 37)" style="font-weight:bold">DisplayCorrectionEffect</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/DisplayCorrectionEffect.m',37,0)">line 37</a>)
dc=getdatalattice(rcor,inCODc,refpts,indHCor,indVCor,indQCor,indSCor,compute_emittances);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('CorrectionChain', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectionChain.m', 1015)" style="font-weight:bold">CorrectionChain</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectionChain.m',1015,0)">line 1015</a>)
    DisplayCorrectionEffect(r0,rerr0,rerr,inCODe,inCOD,1:length(r0),indHCor,indVCor,indQuadCor,indSkewQuadCor);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('CorrectLattice', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectLattice.m', 81)" style="font-weight:bold">CorrectLattice</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/correction_chain/CorrectLattice.m',81,0)">line 81</a>)
[rcor]=CorrectionChain(...

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('testorbitaftertrajectory', '/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/testorbitaftertrajectory.m', 68)" style="font-weight:bold">testorbitaftertrajectory</a> (<a href="matlab: opentoline('/mntdirect/_machfs/liuzzo/CODE/LatticeTuningFunctions/correction/trajectory/testorbitaftertrajectory.m',68,0)">line 68</a>)
rcor=CorrectLattice(...
} 
testorbitaftertrajectory
corr order  : 0, 1,
corr eig    : 200, 200, 200, 250, 350, 100, 350,
>>>>>  Correction sequence started  <<<<<
     # BPM  : 320
     # V cor: 288
     # H cor: 288
     # S cor: 288
     # Q cor: 514
>>>>>  --------------------------  <<<<<
 --- - - - - - - - - - - - - - - - - - - ---
 ---                                     ---
 --- FAST MODE: MODEL RM ARE BEING USED! ---
 ---                                     ---
 --- - - - - - - - - - - - - - - - - - - ---
>>>>>      Correction STRATEGY :       <<<<<
.
          open trajectory (steerers)
          orbit (steerers) 
.
>>>>>  --------------------------  <<<<<
Correction Step: 1/2
Open Trajectory Correction started. 5mm escursion accepted
correcting trajectory with model rm
Search closed orbit
Trajectory correction: nbpms= 89 ncor: 79, 79,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 2286.281 -> 938.748 um
Y: 2356.026 -> 1619.175 um
Search closed orbit
Trajectory correction: nbpms= 114 ncor: 103, 103,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 1963.476 -> 647.008 um
Y: 1838.791 -> 904.332 um
Search closed orbit
Trajectory correction: nbpms= 119 ncor: 106, 106,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 739.772 -> 367.492 um
Y: 1091.879 -> 463.433 um
Search closed orbit
Trajectory correction: nbpms= 150 ncor: 135, 135,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 1195.944 -> 624.228 um
Y: 1184.682 -> 668.558 um
Search closed orbit
Trajectory correction: nbpms= 160 ncor: 144, 144,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 699.205 -> 320.612 um
Y: 962.895 -> 336.837 um
Search closed orbit
Trajectory correction: nbpms= 210 ncor: 189, 189,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 1059.954 -> 516.069 um
Y: 818.691 -> 911.067 um
Search closed orbit
Trajectory correction: nbpms= 210 ncor: 189, 189,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 516.069 -> 266.820 um
Y: 911.067 -> 418.325 um
Search closed orbit
Trajectory correction: nbpms= 248 ncor: 222, 222,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 637.977 -> 355.392 um
Y: 655.892 -> 289.499 um
Search closed orbit
Trajectory correction: nbpms= 310 ncor: 279, 279,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 1036.820 -> 927.679 um
Y: 1237.433 -> 419.770 um
Search closed orbit
Trajectory correction: nbpms= 320 ncor: 287, 287,
computing ORM for available trajectory
H PLANE
correcting available V trajectory
V PLANE
correcting available V trajectory
X: 950.224 -> 461.428 um
Y: 670.031 -> 326.166 um
Search closed orbit
Trajectory closure with last 2 correctors
Found closed orbit
X: 393.674 -> 393.674 um
Y: 257.934 -> 257.934 um
Correction Step: 2/2
Steerers to fix orbit H  using 200 eig
Steerers to fix orbit V  using 200 eig
 --- reference orbit = 0
Orbit correction iter 1,n-eig: 20, 20,
Orbit correction iter 2,n-eig: 40, 40,
Orbit correction iter 3,n-eig: 60, 60,
Orbit correction iter 4,n-eig: 80, 80,
Orbit correction iter 5,n-eig: 100, 100,
Orbit correction iter 6,n-eig: 120, 120,
Orbit correction iter 7,n-eig: 140, 140,
Orbit correction iter 8,n-eig: 160, 160,
Orbit correction iter 9,n-eig: 180, 180,
Orbit correction iter 10,n-eig: 200, 200,
      before    -->    after
oX: 392.730 -> 154.846um
oY: 257.443 -> 59.546um
    min    mean    max
hs:-0.91   0.01   1.02 mrad
vs:-0.56  -0.00   0.54 mrad
dpp: 0.00037908
 --- model lattice data --- 
 --- errors lattice data --- 
 --- corrected lattice data --- 
--------------------------------------------------
------ total std corrector values applyed --------
------                                    --------
       HK (288) [1/m]: 1.31e-03 -> 1.82e-03
       VK (288) [1/m]: 1.13e-03 -> 1.15e-03
       SK (288) [1/m2]: 0.00e+00 -> 0.00e+00
       QK (514) [1/m2]: 0.00e+00 -> 0.00e+00
------                                    --------
------    residual orbit and dispersion   --------
------                                    --------
       OH (3987) [m]: 3.41e-04 -> 1.62e-04
       OV (3987) [m]: 3.12e-04 -> 8.12e-05
       DH (3987) [m]: 1.62e-02 -> 1.87e-02
       DV (3987) [m]:8.84e-03 -> 5.37e-03
       BBH (3987) %: 17.6 -> 11.6
       BBV (3987) %: 18.3 -> 16.4
       PhH (3987) : 1.71e-01 -> 1.25e-01
       PhV (3987) : 1.87e-01 -> 1.67e-01
------                                    --------
------        tune and emittance          --------
------                                    --------
       Qx [76.210]: 76.291 -> 76.166
       Qy [27.340]: 27.414 -> 27.416
       Cx [6.000]: 6.605 -> 5.898
       Cy [4.000]: 4.602 -> 4.700
       EX [132.111 pm]: 230.795 -> 268.012
       EY [0.000pm]: 44.628 -> 13.551
------                                    --------
--------------------------------------------------
Elapsed time is 39.177569 seconds.
